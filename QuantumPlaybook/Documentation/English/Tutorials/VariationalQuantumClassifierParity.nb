(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Wolfram 14.3' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       154,          7]
NotebookDataLength[    160536,       4428]
NotebookOptionsPosition[    135084,       3922]
NotebookOutlinePosition[    138134,       3990]
CellTagsIndexPosition[    138091,       3987]
WindowTitle->Variational Quantum Classifier: Parity
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[GridBox[{
   {GridBox[{
      {
       ItemBox[Cell[BoxData[
         RowBox[{
          TemplateBox[{12},
           "Spacer1"], Cell[
          "QUANTUM MOB/ QUANTUM PLAYBOOK TECH NOTE", "PacletNameCell",
           TextAlignment->Center,ExpressionUUID->
           "97c33c11-1d94-4c04-8e24-383e496ca565"], 
          TemplateBox[{8},
           "Spacer1"]}]],
         TextAlignment->Center,ExpressionUUID->
         "8e75dd3b-f6f5-45cf-a323-3b18b69f0e6b"],
        Background->LightDarkSwitched[
          RGBColor[
          0.3843137254901961, 0.4627450980392157, 0.7019607843137254]],
        ItemSize->Full], ""}
     },
     GridBoxAlignment->{"Rows" -> {{Center}}},
     GridBoxItemSize->{"Columns" -> {Full, 
         Scaled[0.02]}, "Rows" -> {{2.5}}}], Cell[TextData[{
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "Functions",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "e9f3eb1c-c64a-47c4-8c4e-eb11809c7b30"]
         }],ExpressionUUID->"dd87aef6-e1a6-490a-b770-e96c26e393f1"],
         StripOnInput->False],{
        StyleBox[
          "\"BasisEmbedding\"", "SeeAlsoRelated", StripOnInput -> False] :> 
         Documentation`HelpLookup["paclet:QuantumMob/Q3/ref/BasisEmbedding"], 
         StyleBox["\"FindMinimum\"", "SeeAlsoRelated", StripOnInput -> False] :> 
         Documentation`HelpLookup["paclet:ref/FindMinimum"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"TutorialFunction"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "a744c356-4ef5-4244-9386-4bb198d40eca"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "Related Guides",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "e2577f1d-6b8a-43ff-98a6-61c0d0072efa"]
         }],ExpressionUUID->"0ee84ec1-8870-4424-bedf-8db5d331f45c"],
         StripOnInput->False],{
        "\"Quantum Information Systems\"" :> 
         Documentation`HelpLookup[
          "paclet:QuantumMob/Q3/guide/QuantumInformationSystems"], 
         "\"Quantum Many-Body Systems\"" :> 
         Documentation`HelpLookup[
          "paclet:QuantumMob/Q3/guide/QuantumManyBodySystems"], 
         "\"Quantum Spin Systems\"" :> 
         Documentation`HelpLookup[
          "paclet:QuantumMob/Q3/guide/QuantumSpinSystems"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"TutorialMoreAboutSection"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "38bc2ebd-9afe-43eb-8150-063202b85cba"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "Related Tech Notes",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "9f9e4607-1719-400b-99e4-aa6e833282e7"]
         }],ExpressionUUID->"fd0a085b-34f8-491b-89f0-cc0c1fb2e70d"],
         StripOnInput->False],{
        "\"A Quantum Playbook\"" :> 
         Documentation`HelpLookup[
          "paclet:QuantumMob/QuantumPlaybook/tutorial/QuantumPlaybook"], 
         "\"Quantum Information Systems with Q3\"" :> 
         Documentation`HelpLookup[
          "paclet:QuantumMob/Q3/tutorial/QuantumInformationSystems"], 
         "\"Quantum Many-Body Systems with Q3\"" :> 
         Documentation`HelpLookup[
          "paclet:QuantumMob/Q3/tutorial/QuantumManyBodySystems"], 
         "\"Quantum Spin Systems with Q3\"" :> 
         Documentation`HelpLookup[
          "paclet:QuantumMob/Q3/tutorial/QuantumSpinSystems"], 
         "\"Variational classifier\"" :> 
         Documentation`HelpLookup[
          "paclet:https://pennylane.ai/qml/demos/tutorial_variational_\
classifier"]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"RelatedTutorialsSection"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "d1efdf96-0f50-4127-b5c2-b236cf7c565e"],
     "\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\[ThickSpace]\
\[ThickSpace]",
     Cell[BoxData[
      TagBox[
       ActionMenuBox[
        FrameBox[Cell[TextData[{
          "URL",
          " ",
          Cell[BoxData[
           GraphicsBox[
            {GrayLevel[0.66667], Thickness[0.13], 
             LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]},
            AspectRatio->1,
            ImageSize->20,
            PlotRange->{{-3, 4}, {-1, 1}},
            PlotRangePadding->Scaled[0.025]]],ExpressionUUID->
           "cbe166d0-1c8d-4933-a07b-e956373440b2"]
         }],ExpressionUUID->"2a96566f-d276-4ce5-9cbd-f1173049e0e4"],
         StripOnInput->False],{
        "\"QuantumMob/QuantumPlaybook/tutorial/\
VariationalQuantumClassifierParity\"" :> None, 
         "\"Copy Wolfram Documentation Center URL\"" :> 
         CopyToClipboard[
          "QuantumMob/QuantumPlaybook/tutorial/\
VariationalQuantumClassifierParity"], Delimiter, "\"Copy web URL\"" :> 
         Module[{DocumentationSearch`Private`nb$}, 
           DocumentationSearch`Private`nb$ = 
            NotebookPut[
             Notebook[{
               Cell[BoxData[
                 MakeBoxes[
                  Hyperlink[
                   "http://reference.wolfram.com/language/QuantumMob/\
QuantumPlaybook/tutorial/VariationalQuantumClassifierParity.html"], 
                   StandardForm]], "Input", TextClipboardType -> 
                 "PlainText"]}, Visible -> False]]; 
           SelectionMove[DocumentationSearch`Private`nb$, All, Notebook]; 
           FrontEndTokenExecute[DocumentationSearch`Private`nb$, "Copy"]; 
           NotebookClose[DocumentationSearch`Private`nb$]; Null], 
         "\"Go to web URL\"" :> 
         FrontEndExecute[{
           NotebookLocate[{
             URL[(If[TrueQ[False], 
                  "http://reference.wolfram.com/system-modeler/", 
                  "http://reference.wolfram.com/language/"] <> 
                "QuantumMob/QuantumPlaybook/tutorial/\
VariationalQuantumClassifierParity") <> ".html"], None}]}]},
        Appearance->None,
        MenuAppearance->Automatic,
        MenuStyle->"URLMenu"],
       MouseAppearanceTag["LinkHand"]]],
      LineSpacing->{1.4, 0},ExpressionUUID->
      "d3d9162b-ef62-44a9-a8d6-3c02714401e5"]
    }], "AnchorBar",
     CacheGraphics->False,ExpressionUUID->
     "1d677ea7-b15d-425d-a278-3973576bbf9e"]}
  }]], "AnchorBarGrid",
 CellID->1,ExpressionUUID->"94420a77-dd7a-4443-94a8-421e16ddabc7"],

Cell[CellGroupData[{

Cell["Variational Quantum Classifier: Parity", "TechNoteTitle",
 CellID->519812075,ExpressionUUID->"f6e5bd66-dacd-4f7f-9a7e-200a56d7e2be"],

Cell[BoxData[GridBox[{
   {
    TemplateBox[{
      Cell["Setup"], 
      "paclet:QuantumMob/QuantumPlaybook/tutorial/\
VariationalQuantumClassifierParity#2070070916", 
      StyleBox[
       GraphicsBox[{
         Thickness[0.18], 
         RGBColor[0.3843137254901961, 0.4627450980392157, 0.7019607843137254], 
         LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20, PlotRangePadding -> 
        Scaled[0.025]], Magnification -> 0.68 Inherited, StripOnInput -> 
       False], 
      StyleBox[
       GraphicsBox[{
         Thickness[0.18], 
         RGBColor[0.9686274509803922, 0.4666666666666667, 0.], 
         LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20, PlotRangePadding -> 
        Scaled[0.025]], Magnification -> 0.68 Inherited, StripOnInput -> 
       False]},
     "GrayLinkWithIcon",
     BaseStyle->{"TutorialJumpBoxLink"}], 
    TemplateBox[{
      Cell["Quantum Circuit Layer"], 
      "paclet:QuantumMob/QuantumPlaybook/tutorial/\
VariationalQuantumClassifierParity#1732304737", 
      StyleBox[
       GraphicsBox[{
         Thickness[0.18], 
         RGBColor[0.3843137254901961, 0.4627450980392157, 0.7019607843137254], 
         LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20, PlotRangePadding -> 
        Scaled[0.025]], Magnification -> 0.68 Inherited, StripOnInput -> 
       False], 
      StyleBox[
       GraphicsBox[{
         Thickness[0.18], 
         RGBColor[0.9686274509803922, 0.4666666666666667, 0.], 
         LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20, PlotRangePadding -> 
        Scaled[0.025]], Magnification -> 0.68 Inherited, StripOnInput -> 
       False]},
     "GrayLinkWithIcon",
     BaseStyle->{"TutorialJumpBoxLink"}]},
   {
    TemplateBox[{
      Cell["Data"], 
      "paclet:QuantumMob/QuantumPlaybook/tutorial/\
VariationalQuantumClassifierParity#1599589615", 
      StyleBox[
       GraphicsBox[{
         Thickness[0.18], 
         RGBColor[0.3843137254901961, 0.4627450980392157, 0.7019607843137254], 
         LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20, PlotRangePadding -> 
        Scaled[0.025]], Magnification -> 0.68 Inherited, StripOnInput -> 
       False], 
      StyleBox[
       GraphicsBox[{
         Thickness[0.18], 
         RGBColor[0.9686274509803922, 0.4666666666666667, 0.], 
         LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20, PlotRangePadding -> 
        Scaled[0.025]], Magnification -> 0.68 Inherited, StripOnInput -> 
       False]},
     "GrayLinkWithIcon",
     BaseStyle->{"TutorialJumpBoxLink"}], 
    TemplateBox[{
      Cell["Optimization"], 
      "paclet:QuantumMob/QuantumPlaybook/tutorial/\
VariationalQuantumClassifierParity#1787628089", 
      StyleBox[
       GraphicsBox[{
         Thickness[0.18], 
         RGBColor[0.3843137254901961, 0.4627450980392157, 0.7019607843137254], 
         LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20, PlotRangePadding -> 
        Scaled[0.025]], Magnification -> 0.68 Inherited, StripOnInput -> 
       False], 
      StyleBox[
       GraphicsBox[{
         Thickness[0.18], 
         RGBColor[0.9686274509803922, 0.4666666666666667, 0.], 
         LineBox[{{-1.8, 0.5}, {0, 0}, {1.8, 0.5}}]}, AspectRatio -> 1, 
        PlotRange -> {{-3, 4}, {-1, 1}}, ImageSize -> 20, PlotRangePadding -> 
        Scaled[0.025]], Magnification -> 0.68 Inherited, StripOnInput -> 
       False]},
     "GrayLinkWithIcon",
     BaseStyle->{"TutorialJumpBoxLink"}]}
  }]], "TechNoteJumpBox",ExpressionUUID->"ca1f14b5-c6e8-44f3-a6ec-\
541d5330a2e0"],

Cell[TextData[{
 "This demonstration is a translation of the tutorial \[OpenCurlyDoubleQuote]",
 Cell[BoxData[
  TemplateBox[{
    Cell[
     TextData["Variational classifier"]], 
    "https://pennylane.ai/qml/demos/tutorial_variational_classifier"},
   "WebLink",
   BaseStyle->{"TechNoteText"}]],ExpressionUUID->
  "3d60a449-2557-469b-8543-e5a85f7a1865"],
 "\[CloseCurlyDoubleQuote] in PennyLane by Maria Schuld. It demonstrates \
variational quantum classifiers; that is, quantum circuits that can be \
trained from labelled data to classify new data samples."
}], "TechNoteText",
 CellID->239396700,ExpressionUUID->"bc8046dd-5e4a-4d93-88b4-6edc30778a26"],

Cell[TextData[{
 "In particular, we will see that the variational quantum classifier can \
reproduce the parity function ",
 Cell[BoxData[
  FormBox[
   RowBox[{"f", ":", 
    RowBox[{
     SuperscriptBox[
      RowBox[{"{", 
       RowBox[{"0", ",", "1"}], "}"}], "n"], "\[RightArrow]", 
     RowBox[{"{", 
      RowBox[{"1", ",", 
       RowBox[{"-", "1"}]}], "}"}]}]}], TraditionalForm]],ExpressionUUID->
  "d5110666-ae4c-4d94-a001-f63f4928dec0"],
 ", where ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    RowBox[{"f", "(", "x", ")"}], "=", "1"}], TraditionalForm]],
  ExpressionUUID->"df3f86a5-4e67-4c37-bd0a-f387a61d43a3"],
 " if there are even number of ones in ",
 Cell[BoxData[
  FormBox["x", TraditionalForm]],ExpressionUUID->
  "83872230-8ba1-4b1e-8171-7dc7e5ab4909"],
 " and ",
 Cell[BoxData[
  FormBox[
   RowBox[{"-", "1"}], TraditionalForm]],ExpressionUUID->
  "50ab04f6-3843-46dc-89ef-e7c4afa545cc"],
 " otherwise. This optimization example demonstrates how to encode binary \
inputs into the initial state of the variational circuit, which is simply a \
computational basis state."
}], "TechNoteText",
 CellID->1384746856,ExpressionUUID->"6b926cf9-5b80-466b-8896-bff8d22957aa"],

Cell[BoxData[GridBox[{
   {
    TemplateBox[{
      Cell[
       TextData["BasisEmbedding"]], "paclet:QuantumMob/Q3/ref/BasisEmbedding",
       "QuantumMob Package Symbol"},
     "PackageLink",
     BaseStyle->{"DefinitionBox", CellFrame -> 0}], Cell[
    "Encodes data into amplitudes of a quantum state", "TechNoteTableText",
     ExpressionUUID->"9f23c6dd-975b-4c17-83ab-134e577f07ba"]},
   {
    TemplateBox[{
      Cell[
       TextData["FindMinimum"]], "paclet:ref/FindMinimum"},
     "RefLink",
     BaseStyle->{"DefinitionBox", CellFrame -> 0}], Cell[
    "Find the minimum of a function", "TechNoteTableText",ExpressionUUID->
     "99d32d6c-b5bf-4119-9ebe-0c32bf486fb0"]}
  }]], "DefinitionBox",
 CellID->1292802137,ExpressionUUID->"1a238313-c726-44fc-a27b-79fed5451912"],

Cell["Frequently used function in variational classification.", \
"TechNoteCaption",
 CellID->2033459860,ExpressionUUID->"88174421-2cd0-47f0-828a-9457efa6b428"],

Cell["Make sure to load the Q3 package:", "TechNoteMathCaption",
 CellID->1305108662,ExpressionUUID->"17cb5ede-8f01-4ca6-89fa-d3d77281281a"],

Cell[BoxData[
 RowBox[{"Needs", "[", "\"\<QuantumMob`Q3`\>\"", "]"}]], "Input",
 CellLabel->"In[8]:=",
 CellID->563311776,ExpressionUUID->"2441e766-189c-4db0-aa5a-2dea5c958768"],

Cell[CellGroupData[{

Cell["Setup", "TechNoteSection",
 CellID->2070070916,ExpressionUUID->"33b7376e-0576-4d97-8a2f-39f238b92eef"],

Cell[TextData[{
 "The qubits to be modeled are ",
 StyleBox["S[", "Input"],
 StyleBox[Cell[BoxData[
  FormBox["i", TraditionalForm]], "Input",ExpressionUUID->
  "ad881b0d-632c-46a5-b437-6cbac78d31c0"], "Input"],
 StyleBox[",$]", "Input"],
 " for ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    RowBox[{"i", "=", "1"}], ",", "\[Ellipsis]", ",", "n"}], 
   TraditionalForm]],ExpressionUUID->"faf4b3e3-fa3a-492e-ade4-f4734496b873"],
 ":"
}], "TechNoteText",
 CellID->1080054462,ExpressionUUID->"c2999740-bb98-45d1-a1cb-480513b404fc"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Qubit", ",", "S"}], "]"}]], "Input",
 CellLabel->"In[9]:=",
 CellID->551157850,ExpressionUUID->"5bf42346-f7ff-4e11-a5f8-25e73aae3497"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"$n", "=", "4"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"$N", "=", 
   RowBox[{"Power", "[", 
    RowBox[{"2", ",", "$n"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"kk", "=", 
   RowBox[{"Range", "[", "$n", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"SS", "=", 
  RowBox[{"S", "[", 
   RowBox[{"kk", ",", "$"}], "]"}]}]}], "Input",
 CellLabel->"In[10]:=",
 CellID->1447508049,ExpressionUUID->"d36a78ee-e7c3-49c8-ac1c-fe0b1633e288"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   InterpretationBox[
    SubscriptBox["S", 
     TemplateBox[{",", "\",\"", "1"},
      "RowWithSeparators"]],
    $CellContext`S[1, QuantumMob`Q3`$]], ",", 
   InterpretationBox[
    SubscriptBox["S", 
     TemplateBox[{",", "\",\"", "2"},
      "RowWithSeparators"]],
    $CellContext`S[2, QuantumMob`Q3`$]], ",", 
   InterpretationBox[
    SubscriptBox["S", 
     TemplateBox[{",", "\",\"", "3"},
      "RowWithSeparators"]],
    $CellContext`S[3, QuantumMob`Q3`$]], ",", 
   InterpretationBox[
    SubscriptBox["S", 
     TemplateBox[{",", "\",\"", "4"},
      "RowWithSeparators"]],
    $CellContext`S[4, QuantumMob`Q3`$]]}], "}"}]], "Output",
 CellLabel->"Out[13]=",
 CellID->651180132,ExpressionUUID->"344d76ef-9857-401e-82db-21df3187017b"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Data", "TechNoteSection",
 CellID->1599589615,ExpressionUUID->"e3d254e2-259c-4a67-b726-a3370a4ddcc6"],

Cell["Load and preprocess the data:", "TechNoteText",
 CellID->1845640457,ExpressionUUID->"16ff7f48-2ebf-4401-93ce-b3902bfd4e89"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"bits", "=", 
   RowBox[{"Tuples", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"0", ",", "1"}], "}"}], ",", "$n"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"parity", "=", 
   RowBox[{
    RowBox[{"2", "*", 
     RowBox[{"Mod", "[", 
      RowBox[{
       RowBox[{
        RowBox[{
         RowBox[{"Count", "[", 
          RowBox[{"#", ",", "1"}], "]"}], "&"}], "/@", "bits"}], ",", "2"}], 
      "]"}]}], "-", "1"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"data", "=", 
   RowBox[{"AssociationThread", "[", 
    RowBox[{"bits", "->", "parity"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Normal", "[", "data", "]"}], "//", "TableForm"}]}], "Input",
 CellLabel->"In[14]:=",
 CellID->2006481062,ExpressionUUID->"e2d9274c-afd7-438b-8e2f-a31b55573b5b"],

Cell[BoxData[
 TagBox[
  TagBox[GridBox[{
     {
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], "\[Rule]", 
       RowBox[{"-", "1"}]}]},
     {
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "1"}], "}"}], "\[Rule]", 
       "1"}]},
     {
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "1", ",", "0"}], "}"}], "\[Rule]", 
       "1"}]},
     {
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "1", ",", "1"}], "}"}], "\[Rule]", 
       RowBox[{"-", "1"}]}]},
     {
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "1", ",", "0", ",", "0"}], "}"}], "\[Rule]", 
       "1"}]},
     {
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "1", ",", "0", ",", "1"}], "}"}], "\[Rule]", 
       RowBox[{"-", "1"}]}]},
     {
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "1", ",", "1", ",", "0"}], "}"}], "\[Rule]", 
       RowBox[{"-", "1"}]}]},
     {
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "1", ",", "1", ",", "1"}], "}"}], "\[Rule]", 
       "1"}]},
     {
      RowBox[{
       RowBox[{"{", 
        RowBox[{"1", ",", "0", ",", "0", ",", "0"}], "}"}], "\[Rule]", 
       "1"}]},
     {
      RowBox[{
       RowBox[{"{", 
        RowBox[{"1", ",", "0", ",", "0", ",", "1"}], "}"}], "\[Rule]", 
       RowBox[{"-", "1"}]}]},
     {
      RowBox[{
       RowBox[{"{", 
        RowBox[{"1", ",", "0", ",", "1", ",", "0"}], "}"}], "\[Rule]", 
       RowBox[{"-", "1"}]}]},
     {
      RowBox[{
       RowBox[{"{", 
        RowBox[{"1", ",", "0", ",", "1", ",", "1"}], "}"}], "\[Rule]", 
       "1"}]},
     {
      RowBox[{
       RowBox[{"{", 
        RowBox[{"1", ",", "1", ",", "0", ",", "0"}], "}"}], "\[Rule]", 
       RowBox[{"-", "1"}]}]},
     {
      RowBox[{
       RowBox[{"{", 
        RowBox[{"1", ",", "1", ",", "0", ",", "1"}], "}"}], "\[Rule]", 
       "1"}]},
     {
      RowBox[{
       RowBox[{"{", 
        RowBox[{"1", ",", "1", ",", "1", ",", "0"}], "}"}], "\[Rule]", 
       "1"}]},
     {
      RowBox[{
       RowBox[{"{", 
        RowBox[{"1", ",", "1", ",", "1", ",", "1"}], "}"}], "\[Rule]", 
       RowBox[{"-", "1"}]}]}
    },
    GridBoxAlignment->{"Columns" -> {{Left}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.5599999999999999]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}],
   Column],
  Function[BoxForm`e$, 
   TableForm[BoxForm`e$]]]], "Output",
 CellLabel->"Out[17]//TableForm=",
 CellID->807813412,ExpressionUUID->"9e1af1cb-b861-446a-b123-03a79dd0060d"]
}, Open  ]],

Cell["Embed the input data to quantum states:", "TechNoteText",
 CellID->1049292018,ExpressionUUID->"7e9a0ed2-2212-4f92-9318-68664b5911ad"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"$in", "=", 
   RowBox[{
    RowBox[{
     RowBox[{"Ket", "[", 
      RowBox[{"SS", "->", "#"}], "]"}], "&"}], "/@", 
    RowBox[{"Keys", "[", "data", "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"$in", "=", 
   RowBox[{"Matrix", "/@", "$in"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"MatrixForm", "/@", "$in"}]}], "Input",
 CellLabel->"In[21]:=",
 CellID->332895033,ExpressionUUID->"056d567e-4fce-423f-941e-b383de0bf912"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   TagBox[
    RowBox[{"(", "\[NoBreak]", 
     TagBox[GridBox[{
        {"1"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"}
       },
       GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
       GridBoxSpacings->{"Columns" -> {
           Offset[0.27999999999999997`], {
            Offset[0.5599999999999999]}, 
           Offset[0.27999999999999997`]}, "Rows" -> {
           Offset[0.2], {
            Offset[0.4]}, 
           Offset[0.2]}}],
      Column], "\[NoBreak]", ")"}],
    Function[BoxForm`e$, 
     MatrixForm[SparseArray[Automatic, {16}, 0, {1, {{0, 1}, {{1}}}, {1}}]]]],
    ",", 
   TagBox[
    RowBox[{"(", "\[NoBreak]", 
     TagBox[GridBox[{
        {"0"},
        {"1"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"}
       },
       GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
       GridBoxSpacings->{"Columns" -> {
           Offset[0.27999999999999997`], {
            Offset[0.5599999999999999]}, 
           Offset[0.27999999999999997`]}, "Rows" -> {
           Offset[0.2], {
            Offset[0.4]}, 
           Offset[0.2]}}],
      Column], "\[NoBreak]", ")"}],
    Function[BoxForm`e$, 
     MatrixForm[SparseArray[Automatic, {16}, 0, {1, {{0, 1}, {{2}}}, {1}}]]]],
    ",", 
   TagBox[
    RowBox[{"(", "\[NoBreak]", 
     TagBox[GridBox[{
        {"0"},
        {"0"},
        {"1"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"}
       },
       GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
       GridBoxSpacings->{"Columns" -> {
           Offset[0.27999999999999997`], {
            Offset[0.5599999999999999]}, 
           Offset[0.27999999999999997`]}, "Rows" -> {
           Offset[0.2], {
            Offset[0.4]}, 
           Offset[0.2]}}],
      Column], "\[NoBreak]", ")"}],
    Function[BoxForm`e$, 
     MatrixForm[SparseArray[Automatic, {16}, 0, {1, {{0, 1}, {{3}}}, {1}}]]]],
    ",", 
   TagBox[
    RowBox[{"(", "\[NoBreak]", 
     TagBox[GridBox[{
        {"0"},
        {"0"},
        {"0"},
        {"1"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"}
       },
       GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
       GridBoxSpacings->{"Columns" -> {
           Offset[0.27999999999999997`], {
            Offset[0.5599999999999999]}, 
           Offset[0.27999999999999997`]}, "Rows" -> {
           Offset[0.2], {
            Offset[0.4]}, 
           Offset[0.2]}}],
      Column], "\[NoBreak]", ")"}],
    Function[BoxForm`e$, 
     MatrixForm[SparseArray[Automatic, {16}, 0, {1, {{0, 1}, {{4}}}, {1}}]]]],
    ",", 
   TagBox[
    RowBox[{"(", "\[NoBreak]", 
     TagBox[GridBox[{
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"1"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"}
       },
       GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
       GridBoxSpacings->{"Columns" -> {
           Offset[0.27999999999999997`], {
            Offset[0.5599999999999999]}, 
           Offset[0.27999999999999997`]}, "Rows" -> {
           Offset[0.2], {
            Offset[0.4]}, 
           Offset[0.2]}}],
      Column], "\[NoBreak]", ")"}],
    Function[BoxForm`e$, 
     MatrixForm[SparseArray[Automatic, {16}, 0, {1, {{0, 1}, {{5}}}, {1}}]]]],
    ",", 
   TagBox[
    RowBox[{"(", "\[NoBreak]", 
     TagBox[GridBox[{
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"1"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"}
       },
       GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
       GridBoxSpacings->{"Columns" -> {
           Offset[0.27999999999999997`], {
            Offset[0.5599999999999999]}, 
           Offset[0.27999999999999997`]}, "Rows" -> {
           Offset[0.2], {
            Offset[0.4]}, 
           Offset[0.2]}}],
      Column], "\[NoBreak]", ")"}],
    Function[BoxForm`e$, 
     MatrixForm[SparseArray[Automatic, {16}, 0, {1, {{0, 1}, {{6}}}, {1}}]]]],
    ",", 
   TagBox[
    RowBox[{"(", "\[NoBreak]", 
     TagBox[GridBox[{
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"1"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"}
       },
       GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
       GridBoxSpacings->{"Columns" -> {
           Offset[0.27999999999999997`], {
            Offset[0.5599999999999999]}, 
           Offset[0.27999999999999997`]}, "Rows" -> {
           Offset[0.2], {
            Offset[0.4]}, 
           Offset[0.2]}}],
      Column], "\[NoBreak]", ")"}],
    Function[BoxForm`e$, 
     MatrixForm[SparseArray[Automatic, {16}, 0, {1, {{0, 1}, {{7}}}, {1}}]]]],
    ",", 
   TagBox[
    RowBox[{"(", "\[NoBreak]", 
     TagBox[GridBox[{
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"1"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"}
       },
       GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
       GridBoxSpacings->{"Columns" -> {
           Offset[0.27999999999999997`], {
            Offset[0.5599999999999999]}, 
           Offset[0.27999999999999997`]}, "Rows" -> {
           Offset[0.2], {
            Offset[0.4]}, 
           Offset[0.2]}}],
      Column], "\[NoBreak]", ")"}],
    Function[BoxForm`e$, 
     MatrixForm[SparseArray[Automatic, {16}, 0, {1, {{0, 1}, {{8}}}, {1}}]]]],
    ",", 
   TagBox[
    RowBox[{"(", "\[NoBreak]", 
     TagBox[GridBox[{
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"1"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"}
       },
       GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
       GridBoxSpacings->{"Columns" -> {
           Offset[0.27999999999999997`], {
            Offset[0.5599999999999999]}, 
           Offset[0.27999999999999997`]}, "Rows" -> {
           Offset[0.2], {
            Offset[0.4]}, 
           Offset[0.2]}}],
      Column], "\[NoBreak]", ")"}],
    Function[BoxForm`e$, 
     MatrixForm[SparseArray[Automatic, {16}, 0, {1, {{0, 1}, {{9}}}, {1}}]]]],
    ",", 
   TagBox[
    RowBox[{"(", "\[NoBreak]", 
     TagBox[GridBox[{
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"1"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"}
       },
       GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
       GridBoxSpacings->{"Columns" -> {
           Offset[0.27999999999999997`], {
            Offset[0.5599999999999999]}, 
           Offset[0.27999999999999997`]}, "Rows" -> {
           Offset[0.2], {
            Offset[0.4]}, 
           Offset[0.2]}}],
      Column], "\[NoBreak]", ")"}],
    Function[BoxForm`e$, 
     MatrixForm[
     SparseArray[Automatic, {16}, 0, {1, {{0, 1}, {{10}}}, {1}}]]]], ",", 
   TagBox[
    RowBox[{"(", "\[NoBreak]", 
     TagBox[GridBox[{
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"1"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"}
       },
       GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
       GridBoxSpacings->{"Columns" -> {
           Offset[0.27999999999999997`], {
            Offset[0.5599999999999999]}, 
           Offset[0.27999999999999997`]}, "Rows" -> {
           Offset[0.2], {
            Offset[0.4]}, 
           Offset[0.2]}}],
      Column], "\[NoBreak]", ")"}],
    Function[BoxForm`e$, 
     MatrixForm[
     SparseArray[Automatic, {16}, 0, {1, {{0, 1}, {{11}}}, {1}}]]]], ",", 
   TagBox[
    RowBox[{"(", "\[NoBreak]", 
     TagBox[GridBox[{
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"1"},
        {"0"},
        {"0"},
        {"0"},
        {"0"}
       },
       GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
       GridBoxSpacings->{"Columns" -> {
           Offset[0.27999999999999997`], {
            Offset[0.5599999999999999]}, 
           Offset[0.27999999999999997`]}, "Rows" -> {
           Offset[0.2], {
            Offset[0.4]}, 
           Offset[0.2]}}],
      Column], "\[NoBreak]", ")"}],
    Function[BoxForm`e$, 
     MatrixForm[
     SparseArray[Automatic, {16}, 0, {1, {{0, 1}, {{12}}}, {1}}]]]], ",", 
   TagBox[
    RowBox[{"(", "\[NoBreak]", 
     TagBox[GridBox[{
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"1"},
        {"0"},
        {"0"},
        {"0"}
       },
       GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
       GridBoxSpacings->{"Columns" -> {
           Offset[0.27999999999999997`], {
            Offset[0.5599999999999999]}, 
           Offset[0.27999999999999997`]}, "Rows" -> {
           Offset[0.2], {
            Offset[0.4]}, 
           Offset[0.2]}}],
      Column], "\[NoBreak]", ")"}],
    Function[BoxForm`e$, 
     MatrixForm[
     SparseArray[Automatic, {16}, 0, {1, {{0, 1}, {{13}}}, {1}}]]]], ",", 
   TagBox[
    RowBox[{"(", "\[NoBreak]", 
     TagBox[GridBox[{
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"1"},
        {"0"},
        {"0"}
       },
       GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
       GridBoxSpacings->{"Columns" -> {
           Offset[0.27999999999999997`], {
            Offset[0.5599999999999999]}, 
           Offset[0.27999999999999997`]}, "Rows" -> {
           Offset[0.2], {
            Offset[0.4]}, 
           Offset[0.2]}}],
      Column], "\[NoBreak]", ")"}],
    Function[BoxForm`e$, 
     MatrixForm[
     SparseArray[Automatic, {16}, 0, {1, {{0, 1}, {{14}}}, {1}}]]]], ",", 
   TagBox[
    RowBox[{"(", "\[NoBreak]", 
     TagBox[GridBox[{
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"1"},
        {"0"}
       },
       GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
       GridBoxSpacings->{"Columns" -> {
           Offset[0.27999999999999997`], {
            Offset[0.5599999999999999]}, 
           Offset[0.27999999999999997`]}, "Rows" -> {
           Offset[0.2], {
            Offset[0.4]}, 
           Offset[0.2]}}],
      Column], "\[NoBreak]", ")"}],
    Function[BoxForm`e$, 
     MatrixForm[
     SparseArray[Automatic, {16}, 0, {1, {{0, 1}, {{15}}}, {1}}]]]], ",", 
   TagBox[
    RowBox[{"(", "\[NoBreak]", 
     TagBox[GridBox[{
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"0"},
        {"1"}
       },
       GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
       GridBoxSpacings->{"Columns" -> {
           Offset[0.27999999999999997`], {
            Offset[0.5599999999999999]}, 
           Offset[0.27999999999999997`]}, "Rows" -> {
           Offset[0.2], {
            Offset[0.4]}, 
           Offset[0.2]}}],
      Column], "\[NoBreak]", ")"}],
    Function[BoxForm`e$, 
     MatrixForm[
     SparseArray[Automatic, {16}, 0, {1, {{0, 1}, {{16}}}, {1}}]]]]}], 
  "}"}]], "Output",
 CellLabel->"Out[23]=",
 CellID->268933087,ExpressionUUID->"67eadf18-9b32-4364-ad84-a51f5cfc74fc"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Quantum Circuit Layer", "TechNoteSection",
 CellID->1732304737,ExpressionUUID->"dbb6ce92-d18f-4dfc-a7a2-a7aceb2c8e64"],

Cell[TextData[{
 "The parameters to be optimized are ",
 StyleBox["a[", "Input"],
 Cell[BoxData[
  FormBox[
   RowBox[{
    StyleBox["layer",
     FontSlant->"Italic"], ",", "i", ",", "j"}], TraditionalForm]],
  ExpressionUUID->"1c80190e-d942-40be-98b0-d5340b58363e"],
 StyleBox["]", "Input"],
 " for ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    RowBox[{"i", "=", "1"}], ",", "\[Ellipsis]", ",", "n"}], 
   TraditionalForm]],ExpressionUUID->"671bd26c-6fae-4b39-9995-1178f9b4f307"],
 " and ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    RowBox[{"j", "=", "1"}], ",", "\[Ellipsis]", ",", "3"}], 
   TraditionalForm]],ExpressionUUID->"2aab03f3-8030-4ee4-9b45-b0efbed68e0d"],
 ":"
}], "TechNoteText",
 CellID->1481153565,ExpressionUUID->"c83b00c5-5bee-49c6-a6cf-91b0df1a7ce4"],

Cell[BoxData[
 RowBox[{"Let", "[", 
  RowBox[{"Real", ",", "a"}], "]"}]], "Input",
 CellLabel->"In[25]:=",
 CellID->226058522,ExpressionUUID->"6fd4eee9-0316-439f-8f88-15c6a13bfda2"],

Cell["Define a quantum circuit layer:", "TechNoteText",
 CellID->935626912,ExpressionUUID->"26b6bf81-da0b-491d-ab41-db7bbf0b713f"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"layer", "[", 
   RowBox[{
    RowBox[{"aa_", "?", "MatrixQ"}], ",", 
    RowBox[{"ss", ":", 
     RowBox[{"{", 
      RowBox[{"__", "?", "QubitQ"}], "}"}]}]}], "]"}], ":=", 
  RowBox[{
   RowBox[{"QuantumCircuit", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"Table", "[", 
      RowBox[{
       RowBox[{"EulerRotation", "[", 
        RowBox[{
         RowBox[{"aa", "[", 
          RowBox[{"[", "k", "]"}], "]"}], ",", 
         RowBox[{"ss", "[", 
          RowBox[{"[", "k", "]"}], "]"}]}], "]"}], ",", 
       RowBox[{"{", 
        RowBox[{"k", ",", "kk"}], "}"}]}], "]"}], ",", "\[IndentingNewLine]", 
     
     RowBox[{"Apply", "[", 
      RowBox[{"Sequence", ",", 
       RowBox[{"CNOT", "@@@", 
        RowBox[{"Transpose", "@", 
         RowBox[{"{", 
          RowBox[{"ss", ",", 
           RowBox[{"RotateLeft", "@", "ss"}]}], "}"}]}]}]}], "]"}]}], 
    "\[IndentingNewLine]", "]"}], "/;", 
   RowBox[{
    RowBox[{"Length", "[", "aa", "]"}], "==", 
    RowBox[{"Length", "[", "ss", "]"}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"layer", "[", 
   RowBox[{"aa_", "?", "MatrixQ"}], "]"}], ":=", 
  RowBox[{"layer", "[", 
   RowBox[{"aa", ",", "SS"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"layer", "[", "n_Integer", "]"}], ":=", 
  RowBox[{"QuantumCircuit", "@@", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{"layer", "[", 
      RowBox[{"Array", "[", 
       RowBox[{
        RowBox[{"a", "[", "k", "]"}], ",", 
        RowBox[{"{", 
         RowBox[{"$n", ",", "3"}], "}"}]}], "]"}], "]"}], ",", 
     RowBox[{"{", 
      RowBox[{"k", ",", "n"}], "}"}]}], "]"}]}]}]}], "Input",
 CellLabel->"In[26]:=",
 CellID->602466469,ExpressionUUID->"b75628e5-514f-4f67-b591-100b14b247db"],

Cell[TextData[{
 "For example, the following quantum circuit contains 24 real parameters, \
with three parameters ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    RowBox[{"a", "[", 
     RowBox[{"k", ",", "i", ",", "1"}], "]"}], ",", 
    RowBox[{"a", "[", 
     RowBox[{"k", ",", "i", ",", "2"}], "]"}], ",", 
    RowBox[{"a", "[", 
     RowBox[{"k", ",", "i", ",", "3"}], "]"}]}], TraditionalForm]],
  ExpressionUUID->"b0507439-56ac-4b81-a2e4-6e4c979d5cf6"],
 " associated with each qubit ",
 Cell[BoxData[
  FormBox["i", TraditionalForm]],ExpressionUUID->
  "e9d13935-0a63-4210-9dad-7a6a19db9966"],
 " on layer ",
 Cell[BoxData[
  FormBox["k", TraditionalForm]],ExpressionUUID->
  "9c472f17-dc6c-4d41-b336-1eae87d8abad"],
 ":"
}], "TechNoteText",
 CellID->1287530389,ExpressionUUID->"d9b0cde6-20bc-4c8e-bbe7-64fbe0b86b16"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"ll", "=", 
  RowBox[{"layer", "[", "2", "]"}]}]], "Input",
 CellLabel->"In[29]:=",
 CellID->791747932,ExpressionUUID->"c3f316eb-f26b-46d2-bafa-d74b7cccafe1"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {11, -1}}, {{0, -2}, {11, -2}}, {{0, -3}, {11, -3}}, {{
     0, -4}, {11, -4}}}], {{
      {LightDarkSwitched[
        GrayLevel[1]], EdgeForm[Opacity[1]], 
       RectangleBox[{0.6, -1.4}, {1.4, -0.6}]}, InsetBox[
       StyleBox[
        SubscriptBox["\<\"R\"\>", "\<\"E\"\>"],
        StripOnInput->False,
        FontSize->Scaled[0.03636363636363637],
        FontWeight->"Light",
        FontSlant->Italic], {1., -1.}, NCache[
       ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
        ImageScaled[{0.5, 0.5}]], Automatic, {1, 0}]}, {
      {LightDarkSwitched[
        GrayLevel[1]], EdgeForm[Opacity[1]], 
       RectangleBox[{0.6, -2.4}, {1.4, -1.6}]}, InsetBox[
       StyleBox[
        SubscriptBox["\<\"R\"\>", "\<\"E\"\>"],
        StripOnInput->False,
        FontSize->Scaled[0.03636363636363637],
        FontWeight->"Light",
        FontSlant->Italic], {1., -2.}, NCache[
       ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
        ImageScaled[{0.5, 0.5}]], Automatic, {1, 0}]}, {
      {LightDarkSwitched[
        GrayLevel[1]], EdgeForm[Opacity[1]], 
       RectangleBox[{0.6, -3.4}, {1.4, -2.6}]}, InsetBox[
       StyleBox[
        SubscriptBox["\<\"R\"\>", "\<\"E\"\>"],
        StripOnInput->False,
        FontSize->Scaled[0.03636363636363637],
        FontWeight->"Light",
        FontSlant->Italic], {1., -3.}, NCache[
       ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
        ImageScaled[{0.5, 0.5}]], Automatic, {1, 0}]}, {
      {LightDarkSwitched[
        GrayLevel[1]], EdgeForm[Opacity[1]], 
       RectangleBox[{0.6, -4.4}, {1.4, -3.6}]}, InsetBox[
       StyleBox[
        SubscriptBox["\<\"R\"\>", "\<\"E\"\>"],
        StripOnInput->False,
        FontSize->Scaled[0.03636363636363637],
        FontWeight->"Light",
        FontSlant->Italic], {1., -4.}, NCache[
       ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
        ImageScaled[{0.5, 0.5}]], Automatic, {1, 0}]}}, {
     LineBox[{{2, -1}, {2, -2}}], 
     DiskBox[{2, -1}, 0.09], {CircleBox[{2, -2}, 0.26666666666666666], 
      LineBox[{{{1.7333333333333334`, -2}, {2.2666666666666666`, -2}}, {{
         2, -2.2666666666666666`}, {2, -1.7333333333333334`}}}]}}, {
     LineBox[{{3, -2}, {3, -3}}], 
     DiskBox[{3, -2}, 0.09], {CircleBox[{3, -3}, 0.26666666666666666], 
      LineBox[{{{2.7333333333333334`, -3}, {3.2666666666666666`, -3}}, {{
         3, -3.2666666666666666`}, {3, -2.7333333333333334`}}}]}}, {
     LineBox[{{4, -3}, {4, -4}}], 
     DiskBox[{4, -3}, 0.09], {CircleBox[{4, -4}, 0.26666666666666666], 
      LineBox[{{{3.7333333333333334`, -4}, {4.266666666666667, -4}}, {{
         4, -4.266666666666667}, {4, -3.7333333333333334`}}}]}}, {
     LineBox[{{5, -4}, {5, -1}}], 
     DiskBox[{5, -4}, 0.09], {CircleBox[{5, -1}, 0.26666666666666666], 
      LineBox[{{{4.733333333333333, -1}, {5.266666666666667, -1}}, {{
         5, -1.2666666666666666`}, {5, -0.7333333333333334}}}]}}, {{
      {LightDarkSwitched[
        GrayLevel[1]], EdgeForm[Opacity[1]], 
       RectangleBox[{5.6, -1.4}, {6.4, -0.6}]}, InsetBox[
       StyleBox[
        SubscriptBox["\<\"R\"\>", "\<\"E\"\>"],
        StripOnInput->False,
        FontSize->Scaled[0.03636363636363637],
        FontWeight->"Light",
        FontSlant->Italic], {6., -1.}, NCache[
       ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
        ImageScaled[{0.5, 0.5}]], Automatic, {1, 0}]}, {
      {LightDarkSwitched[
        GrayLevel[1]], EdgeForm[Opacity[1]], 
       RectangleBox[{5.6, -2.4}, {6.4, -1.6}]}, InsetBox[
       StyleBox[
        SubscriptBox["\<\"R\"\>", "\<\"E\"\>"],
        StripOnInput->False,
        FontSize->Scaled[0.03636363636363637],
        FontWeight->"Light",
        FontSlant->Italic], {6., -2.}, NCache[
       ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
        ImageScaled[{0.5, 0.5}]], Automatic, {1, 0}]}, {
      {LightDarkSwitched[
        GrayLevel[1]], EdgeForm[Opacity[1]], 
       RectangleBox[{5.6, -3.4}, {6.4, -2.6}]}, InsetBox[
       StyleBox[
        SubscriptBox["\<\"R\"\>", "\<\"E\"\>"],
        StripOnInput->False,
        FontSize->Scaled[0.03636363636363637],
        FontWeight->"Light",
        FontSlant->Italic], {6., -3.}, NCache[
       ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
        ImageScaled[{0.5, 0.5}]], Automatic, {1, 0}]}, {
      {LightDarkSwitched[
        GrayLevel[1]], EdgeForm[Opacity[1]], 
       RectangleBox[{5.6, -4.4}, {6.4, -3.6}]}, InsetBox[
       StyleBox[
        SubscriptBox["\<\"R\"\>", "\<\"E\"\>"],
        StripOnInput->False,
        FontSize->Scaled[0.03636363636363637],
        FontWeight->"Light",
        FontSlant->Italic], {6., -4.}, NCache[
       ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
        ImageScaled[{0.5, 0.5}]], Automatic, {1, 0}]}}, {
     LineBox[{{7, -1}, {7, -2}}], 
     DiskBox[{7, -1}, 0.09], {CircleBox[{7, -2}, 0.26666666666666666], 
      LineBox[{{{6.733333333333333, -2}, {7.266666666666667, -2}}, {{
         7, -2.2666666666666666`}, {7, -1.7333333333333334`}}}]}}, {
     LineBox[{{8, -2}, {8, -3}}], 
     DiskBox[{8, -2}, 0.09], {CircleBox[{8, -3}, 0.26666666666666666], 
      LineBox[{{{7.733333333333333, -3}, {8.266666666666667, -3}}, {{
         8, -3.2666666666666666`}, {8, -2.7333333333333334`}}}]}}, {
     LineBox[{{9, -3}, {9, -4}}], 
     DiskBox[{9, -3}, 0.09], {CircleBox[{9, -4}, 0.26666666666666666], 
      LineBox[{{{8.733333333333333, -4}, {9.266666666666667, -4}}, {{
         9, -4.266666666666667}, {9, -3.7333333333333334`}}}]}}, {
     LineBox[{{10, -4}, {10, -1}}], 
     DiskBox[{10, -4}, 0.09], {CircleBox[{10, -1}, 0.26666666666666666], 
      LineBox[{{{9.733333333333333, -1}, {10.266666666666667`, -1}}, {{
         10, -1.2666666666666666`}, {10, -0.7333333333333334}}}]}}},
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->442.8,
   PlotRange->{{0, 11}, {-4.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  QuantumMob`Q3`QuantumCircuit[{
    QuantumMob`Q3`EulerRotation[{
      $CellContext`a[1, 1, 1], 
      $CellContext`a[1, 1, 2], 
      $CellContext`a[1, 1, 3]}, 
     $CellContext`S[1, QuantumMob`Q3`$]], 
    QuantumMob`Q3`EulerRotation[{
      $CellContext`a[1, 2, 1], 
      $CellContext`a[1, 2, 2], 
      $CellContext`a[1, 2, 3]}, 
     $CellContext`S[2, QuantumMob`Q3`$]], 
    QuantumMob`Q3`EulerRotation[{
      $CellContext`a[1, 3, 1], 
      $CellContext`a[1, 3, 2], 
      $CellContext`a[1, 3, 3]}, 
     $CellContext`S[3, QuantumMob`Q3`$]], 
    QuantumMob`Q3`EulerRotation[{
      $CellContext`a[1, 4, 1], 
      $CellContext`a[1, 4, 2], 
      $CellContext`a[1, 4, 3]}, 
     $CellContext`S[4, QuantumMob`Q3`$]]}, 
   QuantumMob`Q3`CNOT[{$CellContext`S[1, QuantumMob`Q3`$] -> 1}, {
     $CellContext`S[2, QuantumMob`Q3`$]}], 
   QuantumMob`Q3`CNOT[{$CellContext`S[2, QuantumMob`Q3`$] -> 1}, {
     $CellContext`S[3, QuantumMob`Q3`$]}], 
   QuantumMob`Q3`CNOT[{$CellContext`S[3, QuantumMob`Q3`$] -> 1}, {
     $CellContext`S[4, QuantumMob`Q3`$]}], 
   QuantumMob`Q3`CNOT[{$CellContext`S[4, QuantumMob`Q3`$] -> 1}, {
     $CellContext`S[1, QuantumMob`Q3`$]}], {
    QuantumMob`Q3`EulerRotation[{
      $CellContext`a[2, 1, 1], 
      $CellContext`a[2, 1, 2], 
      $CellContext`a[2, 1, 3]}, 
     $CellContext`S[1, QuantumMob`Q3`$]], 
    QuantumMob`Q3`EulerRotation[{
      $CellContext`a[2, 2, 1], 
      $CellContext`a[2, 2, 2], 
      $CellContext`a[2, 2, 3]}, 
     $CellContext`S[2, QuantumMob`Q3`$]], 
    QuantumMob`Q3`EulerRotation[{
      $CellContext`a[2, 3, 1], 
      $CellContext`a[2, 3, 2], 
      $CellContext`a[2, 3, 3]}, 
     $CellContext`S[3, QuantumMob`Q3`$]], 
    QuantumMob`Q3`EulerRotation[{
      $CellContext`a[2, 4, 1], 
      $CellContext`a[2, 4, 2], 
      $CellContext`a[2, 4, 3]}, 
     $CellContext`S[4, QuantumMob`Q3`$]]}, 
   QuantumMob`Q3`CNOT[{$CellContext`S[1, QuantumMob`Q3`$] -> 1}, {
     $CellContext`S[2, QuantumMob`Q3`$]}], 
   QuantumMob`Q3`CNOT[{$CellContext`S[2, QuantumMob`Q3`$] -> 1}, {
     $CellContext`S[3, QuantumMob`Q3`$]}], 
   QuantumMob`Q3`CNOT[{$CellContext`S[3, QuantumMob`Q3`$] -> 1}, {
     $CellContext`S[4, QuantumMob`Q3`$]}], 
   QuantumMob`Q3`CNOT[{$CellContext`S[4, QuantumMob`Q3`$] -> 1}, {
     $CellContext`S[1, QuantumMob`Q3`$]}]]]], "Output",
 CellLabel->"Out[29]=",
 CellID->1939165684,ExpressionUUID->"dd8fd1db-006e-4b48-aba3-362701c6e97c"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Optimization", "TechNoteSection",
 CellID->1787628089,ExpressionUUID->"d3f899c5-d224-4f46-9157-5eb59d2aa28e"],

Cell[CellGroupData[{

Cell["Using a single layer", "Subsection",
 CellID->1045681763,ExpressionUUID->"ce94b03e-e636-4bbc-b1d3-ce819c43464c"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$L", "=", "1"}], ";"}]], "Input",
 CellLabel->"In[30]:=",
 CellID->1530851286,ExpressionUUID->"2ad4717d-fa1d-473f-8e3a-992fb0e38034"],

Cell["Pick a quantum circuit layer to apply on the input states:", \
"TechNoteText",
 CellID->988267993,ExpressionUUID->"086a9937-dd3b-42cc-ad66-6f5dc878a3e8"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"op", "=", 
  RowBox[{"layer", "[", "$L", "]"}]}]], "Input",
 CellLabel->"In[31]:=",
 CellID->787654452,ExpressionUUID->"d90fde6e-5a8d-4735-947e-a7b609e6038d"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {6, -1}}, {{0, -2}, {6, -2}}, {{0, -3}, {6, -3}}, {{
     0, -4}, {6, -4}}}], {{
      {LightDarkSwitched[
        GrayLevel[1]], EdgeForm[Opacity[1]], 
       RectangleBox[{0.6, -1.4}, {1.4, -0.6}]}, InsetBox[
       StyleBox[
        SubscriptBox["\<\"R\"\>", "\<\"E\"\>"],
        StripOnInput->False,
        FontSize->Scaled[0.06666666666666667],
        FontWeight->"Light",
        FontSlant->Italic], {1., -1.}, NCache[
       ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
        ImageScaled[{0.5, 0.5}]], Automatic, {1, 0}]}, {
      {LightDarkSwitched[
        GrayLevel[1]], EdgeForm[Opacity[1]], 
       RectangleBox[{0.6, -2.4}, {1.4, -1.6}]}, InsetBox[
       StyleBox[
        SubscriptBox["\<\"R\"\>", "\<\"E\"\>"],
        StripOnInput->False,
        FontSize->Scaled[0.06666666666666667],
        FontWeight->"Light",
        FontSlant->Italic], {1., -2.}, NCache[
       ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
        ImageScaled[{0.5, 0.5}]], Automatic, {1, 0}]}, {
      {LightDarkSwitched[
        GrayLevel[1]], EdgeForm[Opacity[1]], 
       RectangleBox[{0.6, -3.4}, {1.4, -2.6}]}, InsetBox[
       StyleBox[
        SubscriptBox["\<\"R\"\>", "\<\"E\"\>"],
        StripOnInput->False,
        FontSize->Scaled[0.06666666666666667],
        FontWeight->"Light",
        FontSlant->Italic], {1., -3.}, NCache[
       ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
        ImageScaled[{0.5, 0.5}]], Automatic, {1, 0}]}, {
      {LightDarkSwitched[
        GrayLevel[1]], EdgeForm[Opacity[1]], 
       RectangleBox[{0.6, -4.4}, {1.4, -3.6}]}, InsetBox[
       StyleBox[
        SubscriptBox["\<\"R\"\>", "\<\"E\"\>"],
        StripOnInput->False,
        FontSize->Scaled[0.06666666666666667],
        FontWeight->"Light",
        FontSlant->Italic], {1., -4.}, NCache[
       ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
        ImageScaled[{0.5, 0.5}]], Automatic, {1, 0}]}}, {
     LineBox[{{2, -1}, {2, -2}}], 
     DiskBox[{2, -1}, 0.09], {CircleBox[{2, -2}, 0.26666666666666666], 
      LineBox[{{{1.7333333333333334`, -2}, {2.2666666666666666`, -2}}, {{
         2, -2.2666666666666666`}, {2, -1.7333333333333334`}}}]}}, {
     LineBox[{{3, -2}, {3, -3}}], 
     DiskBox[{3, -2}, 0.09], {CircleBox[{3, -3}, 0.26666666666666666], 
      LineBox[{{{2.7333333333333334`, -3}, {3.2666666666666666`, -3}}, {{
         3, -3.2666666666666666`}, {3, -2.7333333333333334`}}}]}}, {
     LineBox[{{4, -3}, {4, -4}}], 
     DiskBox[{4, -3}, 0.09], {CircleBox[{4, -4}, 0.26666666666666666], 
      LineBox[{{{3.7333333333333334`, -4}, {4.266666666666667, -4}}, {{
         4, -4.266666666666667}, {4, -3.7333333333333334`}}}]}}, {
     LineBox[{{5, -4}, {5, -1}}], 
     DiskBox[{5, -4}, 0.09], {CircleBox[{5, -1}, 0.26666666666666666], 
      LineBox[{{{4.733333333333333, -1}, {5.266666666666667, -1}}, {{
         5, -1.2666666666666666`}, {5, -0.7333333333333334}}}]}}},
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->262.8,
   PlotRange->{{0, 6}, {-4.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  QuantumMob`Q3`QuantumCircuit[{
    QuantumMob`Q3`EulerRotation[{
      $CellContext`a[1, 1, 1], 
      $CellContext`a[1, 1, 2], 
      $CellContext`a[1, 1, 3]}, 
     $CellContext`S[1, QuantumMob`Q3`$]], 
    QuantumMob`Q3`EulerRotation[{
      $CellContext`a[1, 2, 1], 
      $CellContext`a[1, 2, 2], 
      $CellContext`a[1, 2, 3]}, 
     $CellContext`S[2, QuantumMob`Q3`$]], 
    QuantumMob`Q3`EulerRotation[{
      $CellContext`a[1, 3, 1], 
      $CellContext`a[1, 3, 2], 
      $CellContext`a[1, 3, 3]}, 
     $CellContext`S[3, QuantumMob`Q3`$]], 
    QuantumMob`Q3`EulerRotation[{
      $CellContext`a[1, 4, 1], 
      $CellContext`a[1, 4, 2], 
      $CellContext`a[1, 4, 3]}, 
     $CellContext`S[4, QuantumMob`Q3`$]]}, 
   QuantumMob`Q3`CNOT[{$CellContext`S[1, QuantumMob`Q3`$] -> 1}, {
     $CellContext`S[2, QuantumMob`Q3`$]}], 
   QuantumMob`Q3`CNOT[{$CellContext`S[2, QuantumMob`Q3`$] -> 1}, {
     $CellContext`S[3, QuantumMob`Q3`$]}], 
   QuantumMob`Q3`CNOT[{$CellContext`S[3, QuantumMob`Q3`$] -> 1}, {
     $CellContext`S[4, QuantumMob`Q3`$]}], 
   QuantumMob`Q3`CNOT[{$CellContext`S[4, QuantumMob`Q3`$] -> 1}, {
     $CellContext`S[1, QuantumMob`Q3`$]}]]]], "Output",
 CellLabel->"Out[31]=",
 CellID->1966936343,ExpressionUUID->"2450ec36-e7f6-4702-a5fa-d50eda7cc1e9"]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"mat", "=", 
   RowBox[{"Normal", "@", 
    RowBox[{"Matrix", "[", "op", "]"}]}]}], ";"}]], "Input",
 CellLabel->"In[32]:=",
 CellID->359017298,ExpressionUUID->"03be8a62-dd7c-4338-a1cd-b77d4c3f0e7f"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Z1", "=", 
   RowBox[{"Matrix", "[", 
    RowBox[{
     RowBox[{"S", "[", 
      RowBox[{"1", ",", "3"}], "]"}], ",", "SS"}], "]"}]}], ";"}]], "Input",
 CellLabel->"In[33]:=",
 CellID->1806786521,ExpressionUUID->"5f9416bb-8ce6-4d37-a1ed-554b1f5ea4d3"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"w0", "=", 
  RowBox[{"Flatten", "@", 
   RowBox[{"RandomReal", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{"0", ",", "1"}], "}"}], "Pi"}], ",", 
     RowBox[{"{", 
      RowBox[{"$L", ",", "$n", ",", "3"}], "}"}]}], "]"}]}]}]], "Input",
 CellLabel->"In[34]:=",
 CellID->1331466339,ExpressionUUID->"dbc196e2-a4bd-4ca9-92b8-dd6eab7d0aec"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "0.6840190708970889`", ",", "0.12132345074422686`", ",", 
   "0.4479334181708959`", ",", "1.662420056450601`", ",", 
   "0.777839277411135`", ",", "1.920812044418003`", ",", 
   "0.7562499812073122`", ",", "0.30466100179087147`", ",", 
   "0.5511299177595089`", ",", "1.471802413997318`", ",", 
   "1.8866292611542128`", ",", "2.398837614447124`"}], "}"}]], "Output",
 CellLabel->"Out[34]=",
 CellID->90163223,ExpressionUUID->"cf77489e-fb7f-447a-a381-b211e9c70dd5"]
}, Open  ]],

Cell["The parameters to use:", "TechNoteMathCaption",
 CellID->778390898,ExpressionUUID->"6d10c7d1-98ea-46f0-b0d8-c87a9aa17b2a"],

Cell[BoxData[
 RowBox[{
  RowBox[{"aa", "=", 
   RowBox[{"a", "[", 
    RowBox[{
     RowBox[{"Range", "@", "$L"}], ",", 
     RowBox[{"Range", "@", "$n"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2", ",", "3"}], "}"}]}], "]"}]}], ";"}]], "Input",
 CellLabel->"In[35]:=",
 CellID->1785137132,ExpressionUUID->"45f73f88-3515-434a-bd40-3df839b396b4"],

Cell["\<\
The parameters are angles and the following constraints are imposed:\
\>", "TechNoteMathCaption",
 CellID->904180189,ExpressionUUID->"3ecd0783-2b44-4826-95f5-74d21f2a2705"],

Cell[BoxData[
 RowBox[{
  RowBox[{"constraints", "=", 
   RowBox[{"Thread", "[", 
    RowBox[{"0", "<=", "aa", "<", "Pi"}], "]"}]}], ";"}]], "Input",
 CellLabel->"In[36]:=",
 CellID->1028409558,ExpressionUUID->"80090bc9-1797-4543-9417-6c9420fa6fb5"],

Cell[BoxData[
 RowBox[{
  RowBox[{"optimizer", "[", "ww_", "]"}], ":=", 
  RowBox[{"Module", "[", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"ii", "=", 
       RowBox[{"RandomChoice", "[", 
        RowBox[{
         RowBox[{"Range", "@", 
          RowBox[{"Length", "@", "data"}]}], ",", "4"}], "]"}]}], ",", 
      "\[IndentingNewLine]", "yy", ",", "vv", ",", "avg", ",", "sol", ",", 
      "cost"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"yy", "=", 
      RowBox[{"Part", "[", 
       RowBox[{
        RowBox[{"Values", "@", "data"}], ",", "ii"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"vv", "=", 
      RowBox[{"Transpose", "@", 
       RowBox[{"Part", "[", 
        RowBox[{"$in", ",", "ii"}], "]"}]}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"vv", "=", 
      RowBox[{"Transpose", "[", 
       RowBox[{"mat", ".", "vv"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"avg", "=", 
      RowBox[{"Map", "[", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{"Conjugate", "[", "#", "]"}], ".", "Z1", ".", "#"}], "&"}], 
        ",", "vv"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"cost", "=", 
      RowBox[{
       RowBox[{"Mean", "@", 
        RowBox[{"Abs", "[", 
         RowBox[{"avg", "-", "yy"}], "]"}]}], "^", "2"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"EchoTiming", "[", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{
        RowBox[{"{", 
         RowBox[{"cost", ",", "sol"}], "}"}], "=", 
        RowBox[{"FindMinimum", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"cost", ",", "constraints"}], "}"}], ",", 
          RowBox[{"Transpose", "@", 
           RowBox[{"{", 
            RowBox[{"aa", ",", "ww"}], "}"}]}], ",", "\[IndentingNewLine]", 
          RowBox[{"StepMonitor", ":>", 
           RowBox[{"PrintTemporary", "[", 
            RowBox[{"\"\<Cost: \>\"", ",", "cost"}], "]"}]}], ",", 
          "\[IndentingNewLine]", 
          RowBox[{"Method", "->", "\"\<IPOPT\>\""}]}], "]"}]}], ";"}], 
      "\[IndentingNewLine]", "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"Echo", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"Chop", "[", 
          RowBox[{"avg", "/.", "sol"}], "]"}], ",", "yy", ",", "cost"}], 
        "}"}], ",", "\"\<{avg, yy, cost}\>\""}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"Return", "[", 
      RowBox[{"aa", "/.", "sol"}], "]"}]}]}], "\[IndentingNewLine]", 
   "]"}]}]], "Input",
 CellLabel->"In[37]:=",
 CellID->450103983,ExpressionUUID->"b5390ed2-f131-479d-9fdf-cc3773ddf2fb"],

Cell["Test the optimizer:", "TechNoteMathCaption",
 CellID->390365273,ExpressionUUID->"30054ad4-4705-4e38-a2b0-8aa0ecff2967"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"optimizer", "[", "w0", "]"}]], "Input",
 CellLabel->"In[38]:=",
 CellID->742028701,ExpressionUUID->"0e332dd4-1853-43ad-a280-36d822418d13"],

Cell[CellGroupData[{

Cell[BoxData["0.272926`"], "EchoTiming",
 CellID->968548518,ExpressionUUID->"8b4fe554-f553-44fd-830a-9fbeeb6e51f1"],

Cell[BoxData[
 RowBox[{
  TagBox["\<\"{avg, yy, cost}\"\>",
   "EchoLabel"], "  ", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"0.9999984018180229`", ",", "0.9999984018180229`", ",", 
      RowBox[{"-", "0.9999984018180229`"}], ",", "0.9999984018180229`"}], 
     "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"1", ",", "1", ",", "1", ",", "1"}], "}"}], ",", 
    "0.2500007990916269`"}], "}"}]}]], "Echo",
 CellID->468897766,ExpressionUUID->"2aeb1648-7c72-47ed-b846-cbe17e487d62"]
}, Open  ]],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "1.5708129321639923`", ",", "1.5707406049142754`", ",", 
   "1.5707747413693451`", ",", "1.570934957933874`", ",", 
   "0.0010306393848191994`", ",", "1.5707884732300155`", ",", 
   "1.5709615335066975`", ",", "0.000896442414822924`", ",", 
   "1.5708048060132447`", ",", "1.5707197577121403`", ",", 
   "3.140439163506376`", ",", "1.5708123583497176`"}], "}"}]], "Output",
 CellLabel->"Out[38]=",
 CellID->1647252319,ExpressionUUID->"d0cd7ab3-a891-4b4d-a598-44a3fa91ae65"]
}, Open  ]],

Cell["Find the optimal values of the parameters iteratively:", "TechNoteText",
 CellID->1706189206,ExpressionUUID->"47bb8623-0f64-4667-b9f9-a3b25ad5c67f"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"$R", "=", "5"}], ";"}], 
  RowBox[{"(*", " ", 
   RowBox[{"the", " ", "number", " ", "of", " ", "iterations"}], " ", 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{"ww", "=", 
  RowBox[{"Nest", "[", 
   RowBox[{"optimizer", ",", "w0", ",", "$R"}], "]"}]}]}], "Input",
 CellLabel->"In[39]:=",
 CellID->601893948,ExpressionUUID->"826fba04-9f6c-4e73-9b26-b2791eb2c8c4"],

Cell[CellGroupData[{

Cell[BoxData["0.209169`"], "EchoTiming",
 CellID->1217561368,ExpressionUUID->"d477b0a5-151f-430c-b32c-bbb80bb5209b"],

Cell[BoxData[
 RowBox[{
  TagBox["\<\"{avg, yy, cost}\"\>",
   "EchoLabel"], "  ", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "0.99999803629346`", ",", "0.99999803629346`", ",", "0.99999803629346`", 
      ",", 
      RowBox[{"-", "0.99999803629346`"}]}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"1", ",", "1", ",", 
      RowBox[{"-", "1"}], ",", 
      RowBox[{"-", "1"}]}], "}"}], ",", "0.250000981854234`"}], 
   "}"}]}]], "Echo",
 CellID->182239713,ExpressionUUID->"0ebd40fc-160b-4a66-9d17-de00d958720c"],

Cell[BoxData["0.113005`"], "EchoTiming",
 CellID->766916013,ExpressionUUID->"1b76c5e8-1f58-4163-bc98-2a958b9d6d43"],

Cell[BoxData[
 RowBox[{
  TagBox["\<\"{avg, yy, cost}\"\>",
   "EchoLabel"], "  ", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"0.8615257527761623`", ",", "0.8615257527761623`", ",", 
      RowBox[{"-", "0.8615257527761623`"}], ",", 
      RowBox[{"-", "0.8615257527761623`"}]}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"-", "1"}], ",", "1", ",", 
      RowBox[{"-", "1"}], ",", "1"}], "}"}], ",", "1.`"}], "}"}]}]], "Echo",
 CellID->360581197,ExpressionUUID->"0c0ad2e3-2f5c-4324-bd87-c40331822c58"],

Cell[BoxData["0.108236`"], "EchoTiming",
 CellID->58035780,ExpressionUUID->"7a69eb7e-9882-4eca-8281-9999787078b3"],

Cell[BoxData[
 RowBox[{
  TagBox["\<\"{avg, yy, cost}\"\>",
   "EchoLabel"], "  ", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"0.5960347899981395`", ",", 
      RowBox[{"-", "0.5960347899981395`"}], ",", "0.5960347899981395`", ",", 
      "0.5960347899981395`"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"1", ",", "1", ",", 
      RowBox[{"-", "1"}], ",", "1"}], "}"}], ",", "1.`"}], "}"}]}]], "Echo",
 CellID->449778722,ExpressionUUID->"338bf6bb-13ac-42fe-b5ca-fdccd16b9cb3"],

Cell[BoxData["0.197085`"], "EchoTiming",
 CellID->31355626,ExpressionUUID->"a6b3e656-12ab-4fcd-b008-1509015b1fab"],

Cell[BoxData[
 RowBox[{
  TagBox["\<\"{avg, yy, cost}\"\>",
   "EchoLabel"], "  ", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"-", "0.9999973584618989`"}], ",", "0.9999973584618989`", ",", 
      RowBox[{"-", "0.9999973584618989`"}], ",", 
      RowBox[{"-", "0.9999973584618989`"}]}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"-", "1"}], ",", 
      RowBox[{"-", "1"}], ",", 
      RowBox[{"-", "1"}], ",", 
      RowBox[{"-", "1"}]}], "}"}], ",", "0.2500013207707949`"}], 
   "}"}]}]], "Echo",
 CellID->860512667,ExpressionUUID->"bbe5511c-ac32-4052-af16-07041d595284"],

Cell[BoxData["0.17536`"], "EchoTiming",
 CellID->1075544915,ExpressionUUID->"b6069332-ef03-4c4c-8087-4e9e2b5922ac"],

Cell[BoxData[
 RowBox[{
  TagBox["\<\"{avg, yy, cost}\"\>",
   "EchoLabel"], "  ", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "0.9999989422195007`", ",", "0.9999989422195007`", ",", 
      "0.9999989422195007`", ",", 
      RowBox[{"-", "0.9999989422195007`"}]}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"1", ",", "1", ",", 
      RowBox[{"-", "1"}], ",", 
      RowBox[{"-", "1"}]}], "}"}], ",", "0.25000052889052954`"}], 
   "}"}]}]], "Echo",
 CellID->1313529606,ExpressionUUID->"301156e2-fb97-4d5a-b812-efe6f405a5d7"]
}, Open  ]],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "1.5703162919274114`", ",", "1.5689616531368609`", ",", 
   "1.5710529143670375`", ",", "1.5704318858934911`", ",", 
   "0.000839754528712829`", ",", "1.570895503093455`", ",", 
   "1.5704152334480448`", ",", "0.0008397540919318729`", ",", 
   "1.5708070255833468`", ",", "1.5708932123964443`", ",", 
   "0.0008397542890823472`", ",", "1.5710263115922884`"}], "}"}]], "Output",
 CellLabel->"Out[40]=",
 CellID->360196882,ExpressionUUID->"43a5750b-8005-4c7b-806a-f9c76f7f2916"]
}, Open  ]],

Cell["From the optimized parameters, make predictions:", "TechNoteText",
 CellID->1452621094,ExpressionUUID->"290988d2-de60-44cf-a357-b137c1ce62ae"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"mm", "=", 
   RowBox[{"mat", "/.", 
    RowBox[{"Thread", "[", 
     RowBox[{"aa", "->", "ww"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"vv", "=", 
   RowBox[{"Transpose", "[", 
    RowBox[{"mm", ".", 
     RowBox[{"Transpose", "[", "$in", "]"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"predicted", "=", 
  RowBox[{"Map", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"Sign", "@", 
      RowBox[{"Chop", "[", 
       RowBox[{
        RowBox[{"Conjugate", "[", "#", "]"}], ".", "Z1", ".", "#"}], "]"}]}], 
     "&"}], ",", "vv"}], "]"}]}]}], "Input",
 CellLabel->"In[41]:=",
 CellID->1659547112,ExpressionUUID->"c8b4b92d-2fed-4dcf-97ec-e364a5952239"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"1", ",", 
   RowBox[{"-", "1"}], ",", 
   RowBox[{"-", "1"}], ",", "1", ",", 
   RowBox[{"-", "1"}], ",", "1", ",", "1", ",", 
   RowBox[{"-", "1"}], ",", "1", ",", 
   RowBox[{"-", "1"}], ",", 
   RowBox[{"-", "1"}], ",", "1", ",", 
   RowBox[{"-", "1"}], ",", "1", ",", "1", ",", 
   RowBox[{"-", "1"}]}], "}"}]], "Output",
 CellLabel->"Out[43]=",
 CellID->597931784,ExpressionUUID->"9a712b82-c270-4e40-89a7-5c599c637dbf"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"predicted", "-", 
  RowBox[{"Values", "[", "data", "]"}]}]], "Input",
 CellLabel->"In[44]:=",
 CellID->1832052457,ExpressionUUID->"ab0af32b-01f1-4e85-b3b6-3523bf8a40ee"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"2", ",", 
   RowBox[{"-", "2"}], ",", 
   RowBox[{"-", "2"}], ",", "2", ",", 
   RowBox[{"-", "2"}], ",", "2", ",", "2", ",", 
   RowBox[{"-", "2"}], ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", 
   "0", ",", "0", ",", "0"}], "}"}]], "Output",
 CellLabel->"Out[44]=",
 CellID->1551792912,ExpressionUUID->"9471828d-0d97-4c49-9312-d805dcc6a9ae"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Verdict", "Subsubsection",
 CellID->1629533764,ExpressionUUID->"b1135c66-e451-4464-9980-d5475c78939c"],

Cell["\<\
A single-layer is not sufficient to predict the parity values properly.\
\>", "Item",
 CellID->859927202,ExpressionUUID->"4c9d91c0-4ecd-422a-a5d3-8f709499be0b"],

Cell[TextData[{
 "Using the ",
 StyleBox["Method->\[OpenCurlyDoubleQuote]IPOPT\[CloseCurlyDoubleQuote],", 
  "Input"],
 " ",
 ButtonBox["FindMinimum",
  BaseStyle->"Link",
  ButtonData->"paclet:ref/FindMinimum"],
 " is significantly faster than the default method or any other documented \
methods (IPOTP seems to refer to the non-linear interior-point method from \
the IPOPT library)."
}], "Item",
 CellID->1326966863,ExpressionUUID->"054f69a9-ac82-45a2-b41b-e59a29bef548"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Using two layers without imposing the constraints", "Subsection",
 CellID->1489533743,ExpressionUUID->"041d066e-2268-4ea6-a149-847227008657"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$L", "=", "2"}], ";"}]], "Input",
 CellLabel->"In[90]:=",
 CellID->1376745522,ExpressionUUID->"e35356f7-f08f-485a-8768-ac37255c84ff"],

Cell["Pick a quantum circuit layer to apply on the input states:", \
"TechNoteText",
 CellID->1973175476,ExpressionUUID->"338d8c9d-c5af-4fef-be9a-f3b1f6df03c7"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"op", "=", 
  RowBox[{"layer", "[", "$L", "]"}]}]], "Input",
 CellLabel->"In[91]:=",
 CellID->1717748158,ExpressionUUID->"7d038183-4593-4805-aaa6-a077ef75763e"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {11, -1}}, {{0, -2}, {11, -2}}, {{0, -3}, {11, -3}}, {{
     0, -4}, {11, -4}}}], {{
      {LightDarkSwitched[
        GrayLevel[1]], EdgeForm[Opacity[1]], 
       RectangleBox[{0.6, -1.4}, {1.4, -0.6}]}, InsetBox[
       StyleBox[
        SubscriptBox["\<\"R\"\>", "\<\"E\"\>"],
        StripOnInput->False,
        FontSize->Scaled[0.03636363636363637],
        FontWeight->"Light",
        FontSlant->Italic], {1., -1.}, NCache[
       ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
        ImageScaled[{0.5, 0.5}]], Automatic, {1, 0}]}, {
      {LightDarkSwitched[
        GrayLevel[1]], EdgeForm[Opacity[1]], 
       RectangleBox[{0.6, -2.4}, {1.4, -1.6}]}, InsetBox[
       StyleBox[
        SubscriptBox["\<\"R\"\>", "\<\"E\"\>"],
        StripOnInput->False,
        FontSize->Scaled[0.03636363636363637],
        FontWeight->"Light",
        FontSlant->Italic], {1., -2.}, NCache[
       ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
        ImageScaled[{0.5, 0.5}]], Automatic, {1, 0}]}, {
      {LightDarkSwitched[
        GrayLevel[1]], EdgeForm[Opacity[1]], 
       RectangleBox[{0.6, -3.4}, {1.4, -2.6}]}, InsetBox[
       StyleBox[
        SubscriptBox["\<\"R\"\>", "\<\"E\"\>"],
        StripOnInput->False,
        FontSize->Scaled[0.03636363636363637],
        FontWeight->"Light",
        FontSlant->Italic], {1., -3.}, NCache[
       ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
        ImageScaled[{0.5, 0.5}]], Automatic, {1, 0}]}, {
      {LightDarkSwitched[
        GrayLevel[1]], EdgeForm[Opacity[1]], 
       RectangleBox[{0.6, -4.4}, {1.4, -3.6}]}, InsetBox[
       StyleBox[
        SubscriptBox["\<\"R\"\>", "\<\"E\"\>"],
        StripOnInput->False,
        FontSize->Scaled[0.03636363636363637],
        FontWeight->"Light",
        FontSlant->Italic], {1., -4.}, NCache[
       ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
        ImageScaled[{0.5, 0.5}]], Automatic, {1, 0}]}}, {
     LineBox[{{2, -1}, {2, -2}}], 
     DiskBox[{2, -1}, 0.09], {CircleBox[{2, -2}, 0.26666666666666666], 
      LineBox[{{{1.7333333333333334`, -2}, {2.2666666666666666`, -2}}, {{
         2, -2.2666666666666666`}, {2, -1.7333333333333334`}}}]}}, {
     LineBox[{{3, -2}, {3, -3}}], 
     DiskBox[{3, -2}, 0.09], {CircleBox[{3, -3}, 0.26666666666666666], 
      LineBox[{{{2.7333333333333334`, -3}, {3.2666666666666666`, -3}}, {{
         3, -3.2666666666666666`}, {3, -2.7333333333333334`}}}]}}, {
     LineBox[{{4, -3}, {4, -4}}], 
     DiskBox[{4, -3}, 0.09], {CircleBox[{4, -4}, 0.26666666666666666], 
      LineBox[{{{3.7333333333333334`, -4}, {4.266666666666667, -4}}, {{
         4, -4.266666666666667}, {4, -3.7333333333333334`}}}]}}, {
     LineBox[{{5, -4}, {5, -1}}], 
     DiskBox[{5, -4}, 0.09], {CircleBox[{5, -1}, 0.26666666666666666], 
      LineBox[{{{4.733333333333333, -1}, {5.266666666666667, -1}}, {{
         5, -1.2666666666666666`}, {5, -0.7333333333333334}}}]}}, {{
      {LightDarkSwitched[
        GrayLevel[1]], EdgeForm[Opacity[1]], 
       RectangleBox[{5.6, -1.4}, {6.4, -0.6}]}, InsetBox[
       StyleBox[
        SubscriptBox["\<\"R\"\>", "\<\"E\"\>"],
        StripOnInput->False,
        FontSize->Scaled[0.03636363636363637],
        FontWeight->"Light",
        FontSlant->Italic], {6., -1.}, NCache[
       ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
        ImageScaled[{0.5, 0.5}]], Automatic, {1, 0}]}, {
      {LightDarkSwitched[
        GrayLevel[1]], EdgeForm[Opacity[1]], 
       RectangleBox[{5.6, -2.4}, {6.4, -1.6}]}, InsetBox[
       StyleBox[
        SubscriptBox["\<\"R\"\>", "\<\"E\"\>"],
        StripOnInput->False,
        FontSize->Scaled[0.03636363636363637],
        FontWeight->"Light",
        FontSlant->Italic], {6., -2.}, NCache[
       ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
        ImageScaled[{0.5, 0.5}]], Automatic, {1, 0}]}, {
      {LightDarkSwitched[
        GrayLevel[1]], EdgeForm[Opacity[1]], 
       RectangleBox[{5.6, -3.4}, {6.4, -2.6}]}, InsetBox[
       StyleBox[
        SubscriptBox["\<\"R\"\>", "\<\"E\"\>"],
        StripOnInput->False,
        FontSize->Scaled[0.03636363636363637],
        FontWeight->"Light",
        FontSlant->Italic], {6., -3.}, NCache[
       ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
        ImageScaled[{0.5, 0.5}]], Automatic, {1, 0}]}, {
      {LightDarkSwitched[
        GrayLevel[1]], EdgeForm[Opacity[1]], 
       RectangleBox[{5.6, -4.4}, {6.4, -3.6}]}, InsetBox[
       StyleBox[
        SubscriptBox["\<\"R\"\>", "\<\"E\"\>"],
        StripOnInput->False,
        FontSize->Scaled[0.03636363636363637],
        FontWeight->"Light",
        FontSlant->Italic], {6., -4.}, NCache[
       ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
        ImageScaled[{0.5, 0.5}]], Automatic, {1, 0}]}}, {
     LineBox[{{7, -1}, {7, -2}}], 
     DiskBox[{7, -1}, 0.09], {CircleBox[{7, -2}, 0.26666666666666666], 
      LineBox[{{{6.733333333333333, -2}, {7.266666666666667, -2}}, {{
         7, -2.2666666666666666`}, {7, -1.7333333333333334`}}}]}}, {
     LineBox[{{8, -2}, {8, -3}}], 
     DiskBox[{8, -2}, 0.09], {CircleBox[{8, -3}, 0.26666666666666666], 
      LineBox[{{{7.733333333333333, -3}, {8.266666666666667, -3}}, {{
         8, -3.2666666666666666`}, {8, -2.7333333333333334`}}}]}}, {
     LineBox[{{9, -3}, {9, -4}}], 
     DiskBox[{9, -3}, 0.09], {CircleBox[{9, -4}, 0.26666666666666666], 
      LineBox[{{{8.733333333333333, -4}, {9.266666666666667, -4}}, {{
         9, -4.266666666666667}, {9, -3.7333333333333334`}}}]}}, {
     LineBox[{{10, -4}, {10, -1}}], 
     DiskBox[{10, -4}, 0.09], {CircleBox[{10, -1}, 0.26666666666666666], 
      LineBox[{{{9.733333333333333, -1}, {10.266666666666667`, -1}}, {{
         10, -1.2666666666666666`}, {10, -0.7333333333333334}}}]}}},
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->442.8,
   PlotRange->{{0, 11}, {-4.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  QuantumMob`Q3`QuantumCircuit[{
    QuantumMob`Q3`EulerRotation[{
      $CellContext`a[1, 1, 1], 
      $CellContext`a[1, 1, 2], 
      $CellContext`a[1, 1, 3]}, 
     $CellContext`S[1, QuantumMob`Q3`$]], 
    QuantumMob`Q3`EulerRotation[{
      $CellContext`a[1, 2, 1], 
      $CellContext`a[1, 2, 2], 
      $CellContext`a[1, 2, 3]}, 
     $CellContext`S[2, QuantumMob`Q3`$]], 
    QuantumMob`Q3`EulerRotation[{
      $CellContext`a[1, 3, 1], 
      $CellContext`a[1, 3, 2], 
      $CellContext`a[1, 3, 3]}, 
     $CellContext`S[3, QuantumMob`Q3`$]], 
    QuantumMob`Q3`EulerRotation[{
      $CellContext`a[1, 4, 1], 
      $CellContext`a[1, 4, 2], 
      $CellContext`a[1, 4, 3]}, 
     $CellContext`S[4, QuantumMob`Q3`$]]}, 
   QuantumMob`Q3`CNOT[{$CellContext`S[1, QuantumMob`Q3`$] -> 1}, {
     $CellContext`S[2, QuantumMob`Q3`$]}], 
   QuantumMob`Q3`CNOT[{$CellContext`S[2, QuantumMob`Q3`$] -> 1}, {
     $CellContext`S[3, QuantumMob`Q3`$]}], 
   QuantumMob`Q3`CNOT[{$CellContext`S[3, QuantumMob`Q3`$] -> 1}, {
     $CellContext`S[4, QuantumMob`Q3`$]}], 
   QuantumMob`Q3`CNOT[{$CellContext`S[4, QuantumMob`Q3`$] -> 1}, {
     $CellContext`S[1, QuantumMob`Q3`$]}], {
    QuantumMob`Q3`EulerRotation[{
      $CellContext`a[2, 1, 1], 
      $CellContext`a[2, 1, 2], 
      $CellContext`a[2, 1, 3]}, 
     $CellContext`S[1, QuantumMob`Q3`$]], 
    QuantumMob`Q3`EulerRotation[{
      $CellContext`a[2, 2, 1], 
      $CellContext`a[2, 2, 2], 
      $CellContext`a[2, 2, 3]}, 
     $CellContext`S[2, QuantumMob`Q3`$]], 
    QuantumMob`Q3`EulerRotation[{
      $CellContext`a[2, 3, 1], 
      $CellContext`a[2, 3, 2], 
      $CellContext`a[2, 3, 3]}, 
     $CellContext`S[3, QuantumMob`Q3`$]], 
    QuantumMob`Q3`EulerRotation[{
      $CellContext`a[2, 4, 1], 
      $CellContext`a[2, 4, 2], 
      $CellContext`a[2, 4, 3]}, 
     $CellContext`S[4, QuantumMob`Q3`$]]}, 
   QuantumMob`Q3`CNOT[{$CellContext`S[1, QuantumMob`Q3`$] -> 1}, {
     $CellContext`S[2, QuantumMob`Q3`$]}], 
   QuantumMob`Q3`CNOT[{$CellContext`S[2, QuantumMob`Q3`$] -> 1}, {
     $CellContext`S[3, QuantumMob`Q3`$]}], 
   QuantumMob`Q3`CNOT[{$CellContext`S[3, QuantumMob`Q3`$] -> 1}, {
     $CellContext`S[4, QuantumMob`Q3`$]}], 
   QuantumMob`Q3`CNOT[{$CellContext`S[4, QuantumMob`Q3`$] -> 1}, {
     $CellContext`S[1, QuantumMob`Q3`$]}]]]], "Output",
 CellLabel->"Out[91]=",
 CellID->1436908818,ExpressionUUID->"ef951345-b023-4fee-85de-73832695bfef"]
}, Open  ]],

Cell["\<\
Check which parameters are actually involved in the above quantum circuit:\
\>", "TechNoteText",
 CellID->420656279,ExpressionUUID->"3d2d369d-232a-4517-b6d2-5e80b5f8ced1"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"param", "=", 
  RowBox[{"Cases", "[", 
   RowBox[{"op", ",", "_a", ",", "Infinity"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"Length", "[", "param", "]"}]}], "Input",
 CellLabel->"In[92]:=",
 CellID->19230539,ExpressionUUID->"4d4ddb49-186f-4676-b44e-a2a5f3240102"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "1", "1", "1"},
      "RowWithSeparators"]],
    $CellContext`a[1, 1, 1]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "1", "1", "2"},
      "RowWithSeparators"]],
    $CellContext`a[1, 1, 2]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "1", "1", "3"},
      "RowWithSeparators"]],
    $CellContext`a[1, 1, 3]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "1", "2", "1"},
      "RowWithSeparators"]],
    $CellContext`a[1, 2, 1]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "1", "2", "2"},
      "RowWithSeparators"]],
    $CellContext`a[1, 2, 2]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "1", "2", "3"},
      "RowWithSeparators"]],
    $CellContext`a[1, 2, 3]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "1", "3", "1"},
      "RowWithSeparators"]],
    $CellContext`a[1, 3, 1]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "1", "3", "2"},
      "RowWithSeparators"]],
    $CellContext`a[1, 3, 2]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "1", "3", "3"},
      "RowWithSeparators"]],
    $CellContext`a[1, 3, 3]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "1", "4", "1"},
      "RowWithSeparators"]],
    $CellContext`a[1, 4, 1]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "1", "4", "2"},
      "RowWithSeparators"]],
    $CellContext`a[1, 4, 2]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "1", "4", "3"},
      "RowWithSeparators"]],
    $CellContext`a[1, 4, 3]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "2", "1", "1"},
      "RowWithSeparators"]],
    $CellContext`a[2, 1, 1]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "2", "1", "2"},
      "RowWithSeparators"]],
    $CellContext`a[2, 1, 2]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "2", "1", "3"},
      "RowWithSeparators"]],
    $CellContext`a[2, 1, 3]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "2", "2", "1"},
      "RowWithSeparators"]],
    $CellContext`a[2, 2, 1]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "2", "2", "2"},
      "RowWithSeparators"]],
    $CellContext`a[2, 2, 2]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "2", "2", "3"},
      "RowWithSeparators"]],
    $CellContext`a[2, 2, 3]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "2", "3", "1"},
      "RowWithSeparators"]],
    $CellContext`a[2, 3, 1]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "2", "3", "2"},
      "RowWithSeparators"]],
    $CellContext`a[2, 3, 2]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "2", "3", "3"},
      "RowWithSeparators"]],
    $CellContext`a[2, 3, 3]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "2", "4", "1"},
      "RowWithSeparators"]],
    $CellContext`a[2, 4, 1]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "2", "4", "2"},
      "RowWithSeparators"]],
    $CellContext`a[2, 4, 2]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "2", "4", "3"},
      "RowWithSeparators"]],
    $CellContext`a[2, 4, 3]]}], "}"}]], "Output",
 CellLabel->"Out[92]=",
 CellID->1672893611,ExpressionUUID->"f46f0c40-c80d-4ac0-8f39-ffb5f3f8fa0d"],

Cell[BoxData["24"], "Output",
 CellLabel->"Out[93]=",
 CellID->1467013553,ExpressionUUID->"19baa336-653e-4a56-b73d-3ce86457f1af"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"mat", "=", 
   RowBox[{"Normal", "@", 
    RowBox[{"N", "@", 
     RowBox[{"Matrix", "[", "op", "]"}]}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Dimensions", "[", "mat", "]"}]}], "Input",
 CellLabel->"In[94]:=",
 CellID->623453271,ExpressionUUID->"9253ab97-0938-44cc-9a28-444e17c12239"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"16", ",", "16"}], "}"}]], "Output",
 CellLabel->"Out[95]=",
 CellID->837034064,ExpressionUUID->"379b3033-5ad3-4428-98a1-7485c7b4441d"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"Z1", "=", 
   RowBox[{"Matrix", "[", 
    RowBox[{
     RowBox[{"S", "[", 
      RowBox[{"1", ",", "3"}], "]"}], ",", "SS"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Dimensions", "[", "Z1", "]"}]}], "Input",
 CellLabel->"In[96]:=",
 CellID->806411984,ExpressionUUID->"fc50bc7a-423f-48bf-a5b3-fc2835fac4cf"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"16", ",", "16"}], "}"}]], "Output",
 CellLabel->"Out[97]=",
 CellID->2013625798,ExpressionUUID->"1864d36e-c7b7-45c6-a745-8a4c87ffa4e6"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"w0", "=", 
  RowBox[{"Flatten", "@", 
   RowBox[{"RandomReal", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{"0", ",", "1"}], "}"}], "Pi"}], ",", 
     RowBox[{"{", 
      RowBox[{"$L", ",", "$n", ",", "3"}], "}"}]}], "]"}]}]}], "\[IndentingNewLine]", 
 RowBox[{"Length", "[", "w0", "]"}]}], "Input",
 CellLabel->"In[98]:=",
 CellID->596918871,ExpressionUUID->"d1621e85-41fc-49fc-b03d-98c3fb2cffda"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "1.3816595389884898`", ",", "0.009974073871222471`", ",", 
   "0.5940843741186678`", ",", "2.060049963553145`", ",", 
   "0.478723971232544`", ",", "3.0808724420529314`", ",", 
   "0.1607521981641345`", ",", "0.21047445614916263`", ",", 
   "0.8941433963892969`", ",", "1.4425287054234122`", ",", 
   "2.830313475809845`", ",", "0.7035516661478348`", ",", 
   "0.29587458305176745`", ",", "1.0118002374119974`", ",", 
   "0.8125415776491265`", ",", "1.0199426511774887`", ",", 
   "2.1166322172910474`", ",", "0.40518144373258896`", ",", 
   "3.056689222448572`", ",", "1.2402345745093688`", ",", 
   "0.8430719514689171`", ",", "0.056072079895530653`", ",", 
   "0.14854918871728837`", ",", "1.8557285202932505`"}], "}"}]], "Output",
 CellLabel->"Out[98]=",
 CellID->813993913,ExpressionUUID->"dded40de-c952-417b-b614-52ae4be90629"],

Cell[BoxData["24"], "Output",
 CellLabel->"Out[99]=",
 CellID->1324864401,ExpressionUUID->"174190ad-4bcd-494b-807d-d2eff11728cc"]
}, Open  ]],

Cell["The set of parameters:", "TechNoteText",
 CellID->1764677153,ExpressionUUID->"4f016892-540d-451c-a8e4-8d513870b251"],

Cell[BoxData[
 RowBox[{
  RowBox[{"aa", "=", 
   RowBox[{"a", "[", 
    RowBox[{
     RowBox[{"Range", "@", "$L"}], ",", 
     RowBox[{"Range", "@", "$n"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2", ",", "3"}], "}"}]}], "]"}]}], ";"}]], "Input",
 CellLabel->"In[100]:=",
 CellID->2130853490,ExpressionUUID->"41a273c1-4738-4c45-9d89-d98efec17960"],

Cell["\<\
We prepare the natural constraints, but in this example, we will not impose \
them:\
\>", "TechNoteText",
 CellID->384767242,ExpressionUUID->"68eb795e-0061-43b3-84c3-8afc3a8b216a"],

Cell[BoxData[
 RowBox[{
  RowBox[{"constraints", "=", 
   RowBox[{"Thread", "[", 
    RowBox[{"0", "<=", "aa", "<", "Pi"}], "]"}]}], ";"}]], "Input",
 CellLabel->"In[101]:=",
 CellID->933528989,ExpressionUUID->"14079f41-53f6-4ada-a42b-629bca62724f"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "optimizer", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"optimizer", "[", "ww_", "]"}], ":=", 
  RowBox[{"Module", "[", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"ii", "=", 
       RowBox[{"RandomChoice", "[", 
        RowBox[{
         RowBox[{"Range", "@", 
          RowBox[{"Length", "@", "data"}]}], ",", "4"}], "]"}]}], ",", 
      "\[IndentingNewLine]", "yy", ",", "vv", ",", "avg", ",", "sol", ",", 
      "cost"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"Echo", "[", 
      RowBox[{"ii", ",", "\"\<ii\>\""}], "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"yy", "=", 
      RowBox[{"Part", "[", 
       RowBox[{
        RowBox[{"Values", "@", "data"}], ",", "ii"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"vv", "=", 
      RowBox[{"Transpose", "@", 
       RowBox[{"SparseArray", "@", 
        RowBox[{"Part", "[", 
         RowBox[{"$in", ",", "ii"}], "]"}]}]}]}], ";", "\[IndentingNewLine]", 
     
     RowBox[{"vv", "=", 
      RowBox[{"Transpose", "[", 
       RowBox[{"mat", ".", "vv"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"avg", "=", 
      RowBox[{"Map", "[", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{"Conjugate", "[", "#", "]"}], ".", "Z1", ".", "#"}], "&"}], 
        ",", "vv"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"cost", "=", 
      RowBox[{
       RowBox[{"Mean", "@", 
        RowBox[{"Abs", "[", 
         RowBox[{"avg", "-", "yy"}], "]"}]}], "^", "2"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"Echo", "[", 
      RowBox[{
       RowBox[{
        RowBox[{
         RowBox[{"{", 
          RowBox[{"avg", ",", "cost"}], "}"}], "/.", 
         RowBox[{"Thread", "[", 
          RowBox[{"aa", "->", "ww"}], "]"}]}], "//", "Chop"}], 
       ",", "\"\<{avg, cost}\>\""}], "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"EchoTiming", "[", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{
        RowBox[{"{", 
         RowBox[{"cost", ",", "sol"}], "}"}], "=", 
        RowBox[{"FindMinimum", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"cost", ",", "constraints"}], "}"}], ",", 
          RowBox[{"Transpose", "@", 
           RowBox[{"{", 
            RowBox[{"aa", ",", "ww"}], "}"}]}], ",", "\[IndentingNewLine]", 
          RowBox[{"StepMonitor", ":>", 
           RowBox[{"PrintTemporary", "[", 
            RowBox[{"\"\<Cost: \>\"", ",", "cost"}], "]"}]}], ",", 
          "\[IndentingNewLine]", 
          RowBox[{"Method", "->", "\"\<IPOPT\>\""}]}], "]"}]}], ";"}], 
      "\[IndentingNewLine]", "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"Echo", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"Chop", "[", 
          RowBox[{"avg", "/.", "sol"}], "]"}], ",", "yy", ",", "cost"}], 
        "}"}], ",", "\"\<{avg, yy, cost}\>\""}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"Return", "[", 
      RowBox[{"aa", "/.", "sol"}], "]"}]}]}], "\[IndentingNewLine]", 
   "]"}]}]}], "Input",
 CellLabel->"In[102]:=",
 CellID->1817309058,ExpressionUUID->"d0302366-ca64-48d8-877b-0896f0ac7caa"],

Cell["Test the optimizer:", "TechNoteText",
 CellID->2000910172,ExpressionUUID->"bab94e06-1633-41e8-9a76-d28535e61c24"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"optimizer", "[", "w0", "]"}]], "Input",
 CellLabel->"In[104]:=",
 CellID->1850832431,ExpressionUUID->"f0aee3fb-312b-41da-99b9-d169b6c4d67d"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  TagBox["\<\"ii\"\>",
   "EchoLabel"], "  ", 
  RowBox[{"{", 
   RowBox[{"2", ",", "13", ",", "1", ",", "4"}], "}"}]}]], "Echo",
 CellID->1885535511,ExpressionUUID->"f5aa2336-8ac2-416a-8d06-6e0256789b6d"],

Cell[BoxData[
 RowBox[{
  TagBox["\<\"{avg, cost}\"\>",
   "EchoLabel"], "  ", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"-", "0.1174527116591029`"}], ",", "0.039589618952448224`", ",",
       "0.11692576522398795`", ",", 
      RowBox[{"-", "0.2948332823795162`"}]}], "}"}], ",", 
    "0.989594616478606`"}], "}"}]}]], "Echo",
 CellID->1926638245,ExpressionUUID->"d7290fcd-4fdd-41da-a3de-35dc7fe84080"],

Cell[BoxData["3.260042`"], "EchoTiming",
 CellID->303877320,ExpressionUUID->"60ed5fa0-376b-4870-ae09-9c180c58aded"],

Cell[BoxData[
 RowBox[{
  TagBox["\<\"{avg, yy, cost}\"\>",
   "EchoLabel"], "  ", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"0.9997364438214525`", ",", 
      RowBox[{"-", "0.9995168742450936`"}], ",", 
      RowBox[{"-", "0.9997288360503986`"}], ",", 
      RowBox[{"-", "0.9998308285406983`"}]}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"1", ",", 
      RowBox[{"-", "1"}], ",", 
      RowBox[{"-", "1"}], ",", 
      RowBox[{"-", "1"}]}], "}"}], ",", "8.806313569102217`*^-8"}], 
   "}"}]}]], "Echo",
 CellID->550004674,ExpressionUUID->"a04503e0-f7c3-4867-99bb-0308b0dfe953"]
}, Open  ]],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "1.4228904917898837`", ",", "0.01185080490040754`", ",", 
   "0.9818472294584989`", ",", "1.5653475352920472`", ",", 
   "1.5707891933870688`", ",", "2.3517717219222187`", ",", 
   "1.6311347798817268`", ",", "0.10011430999274995`", ",", 
   "1.1429264484204924`", ",", "1.5707966016627424`", ",", 
   "1.5707972404648105`", ",", "1.0372739559911441`", ",", 
   "0.8564007980896191`", ",", "1.2127483083841064`", ",", 
   "1.096442293037297`", ",", "1.2176874968101168`", ",", 
   "1.6709222073384875`", ",", "0.010895905211186035`", ",", 
   "2.346337506469909`", ",", "1.5708031688324204`", ",", 
   "0.00940860351253302`", ",", "0.788802809293176`", ",", 
   "0.011811192066413977`", ",", "1.7564969440938647`"}], "}"}]], "Output",
 CellLabel->"Out[104]=",
 CellID->1158939230,ExpressionUUID->"484d2e84-1212-411b-ae6f-1648d390851f"]
}, Open  ]],

Cell["Find the optimal values of the parameters iteratively:", "TechNoteText",
 CellID->1878469324,ExpressionUUID->"26e26bae-69e3-4d1d-8da2-91c573560431"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"$R", "=", "3"}], ";"}], 
  RowBox[{"(*", " ", 
   RowBox[{"the", " ", "number", " ", "of", " ", "iterations"}], " ", 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{"ww", "=", 
  RowBox[{"Nest", "[", 
   RowBox[{"optimizer", ",", "w0", ",", "$R"}], "]"}]}]}], "Input",
 CellLabel->"In[105]:=",
 CellID->379501823,ExpressionUUID->"11a5a2f1-f399-49d3-9e95-932693a8a417"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  TagBox["\<\"ii\"\>",
   "EchoLabel"], "  ", 
  RowBox[{"{", 
   RowBox[{"7", ",", "3", ",", "4", ",", "5"}], "}"}]}]], "Echo",
 CellID->614960320,ExpressionUUID->"80605dbc-c7d6-43eb-a4c8-eb9ba377dfa1"],

Cell[BoxData[
 RowBox[{
  TagBox["\<\"{avg, cost}\"\>",
   "EchoLabel"], "  ", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"-", "0.2886996235530803`"}], ",", "0.2952077461399494`", ",", 
      RowBox[{"-", "0.2948332823795162`"}], ",", 
      RowBox[{"-", "0.12384230538118365`"}]}], "}"}], ",", 
    "0.6581677962691532`"}], "}"}]}]], "Echo",
 CellID->1727658230,ExpressionUUID->"51dcf03d-f80f-4a66-8051-40dcc3869c78"],

Cell[BoxData["3.704257`"], "EchoTiming",
 CellID->1494829962,ExpressionUUID->"c09f6ed9-b4bf-4a8d-bc8f-22d32203b72d"],

Cell[BoxData[
 RowBox[{
  TagBox["\<\"{avg, yy, cost}\"\>",
   "EchoLabel"], "  ", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"-", "0.9997991648814101`"}], ",", "0.9997991648814408`", ",", 
      RowBox[{"-", "0.9997991648814408`"}], ",", "0.9992582577748578`"}], 
     "}"}], ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"-", "1"}], ",", "1", ",", 
      RowBox[{"-", "1"}], ",", "1"}], "}"}], ",", "1.1293759741380954`*^-7"}],
    "}"}]}]], "Echo",
 CellID->717896165,ExpressionUUID->"aba94a59-dfbb-4379-8556-4fcf98d1bd42"],

Cell[BoxData[
 RowBox[{
  TagBox["\<\"ii\"\>",
   "EchoLabel"], "  ", 
  RowBox[{"{", 
   RowBox[{"7", ",", "12", ",", "16", ",", "11"}], "}"}]}]], "Echo",
 CellID->1117716309,ExpressionUUID->"2e72c103-2497-4753-94ec-a3ab0add7596"],

Cell[BoxData[
 RowBox[{
  TagBox["\<\"{avg, cost}\"\>",
   "EchoLabel"], "  ", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"-", "0.9997991648814101`"}], ",", "0.9927955023899834`", ",", 
      RowBox[{"-", "0.9927955023899443`"}], ",", 
      RowBox[{"-", "0.9927955023899833`"}]}], "}"}], ",", 
    "0.00002974155649078262`"}], "}"}]}]], "Echo",
 CellID->732606128,ExpressionUUID->"f6af755b-794c-4fdf-b0ab-7f1c9093cfd1"],

Cell[BoxData["2.381045`"], "EchoTiming",
 CellID->2080842932,ExpressionUUID->"e90b7f67-96f7-4c64-b3b5-001f5826c1ef"],

Cell[BoxData[
 RowBox[{
  TagBox["\<\"{avg, yy, cost}\"\>",
   "EchoLabel"], "  ", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"-", "0.9997368185557939`"}], ",", "0.9997368185564817`", ",", 
      RowBox[{"-", "0.9997368120048822`"}], ",", 
      RowBox[{"-", "0.9997368185564813`"}]}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"-", "1"}], ",", "1", ",", 
      RowBox[{"-", "1"}], ",", 
      RowBox[{"-", "1"}]}], "}"}], ",", "6.926533443530928`*^-8"}], 
   "}"}]}]], "Echo",
 CellID->1607651096,ExpressionUUID->"c31d4f22-d910-4318-999d-1a3505caf40c"],

Cell[BoxData[
 RowBox[{
  TagBox["\<\"ii\"\>",
   "EchoLabel"], "  ", 
  RowBox[{"{", 
   RowBox[{"12", ",", "13", ",", "4", ",", "16"}], "}"}]}]], "Echo",
 CellID->573974779,ExpressionUUID->"69e12a09-77de-48d5-98f2-00b4770c060d"],

Cell[BoxData[
 RowBox[{
  TagBox["\<\"{avg, cost}\"\>",
   "EchoLabel"], "  ", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"0.9997368185564817`", ",", "0.9143769632146527`", ",", 
      RowBox[{"-", "0.9997368120041945`"}], ",", 
      RowBox[{"-", "0.9997368120048822`"}]}], "}"}], ",", 
    "0.22924142511344733`"}], "}"}]}]], "Echo",
 CellID->862689840,ExpressionUUID->"2a0c9433-9ce9-4662-a00c-72785eb7f83a"],

Cell[BoxData["2.818948`"], "EchoTiming",
 CellID->1646917710,ExpressionUUID->"e975f589-5840-459e-bfd1-1e7270600d78"],

Cell[BoxData[
 RowBox[{
  TagBox["\<\"{avg, yy, cost}\"\>",
   "EchoLabel"], "  ", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"0.9997974169155606`", ",", 
      RowBox[{"-", "0.9992579687190855`"}], ",", 
      RowBox[{"-", "0.9997974169147867`"}], ",", 
      RowBox[{"-", "0.9997974169155605`"}]}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"1", ",", 
      RowBox[{"-", "1"}], ",", 
      RowBox[{"-", "1"}], ",", 
      RowBox[{"-", "1"}]}], "}"}], ",", "1.1386921829279043`*^-7"}], 
   "}"}]}]], "Echo",
 CellID->829225787,ExpressionUUID->"58da43b6-4976-40cd-85f3-4e314350eef4"]
}, Open  ]],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "1.5707961129018368`", ",", "0.011622081540926314`", ",", 
   "1.570797249856495`", ",", "1.5707969488456786`", ",", 
   "1.5707945492006787`", ",", "1.5707963255959132`", ",", 
   "0.01162277821102882`", ",", "1.5707966375672042`", ",", 
   "1.5707964157672107`", ",", "1.5707975876379592`", ",", 
   "0.016425417182033566`", ",", "1.5707969599069755`", ",", 
   "1.5707968030524644`", ",", "1.5707956505532774`", ",", 
   "1.5707959996069363`", ",", "1.570796649359888`", ",", "1.57079851906667`",
    ",", "1.5707969488452496`", ",", "1.5707954911509676`", ",", 
   "3.1251678166293226`", ",", "1.570799746136862`", ",", 
   "1.5707962603482268`", ",", "0.011622081628164886`", ",", 
   "1.5707951085900542`"}], "}"}]], "Output",
 CellLabel->"Out[106]=",
 CellID->1776416726,ExpressionUUID->"39fc85d0-a64e-40de-89c4-e524414db1b2"]
}, Open  ]],

Cell["From the optimized parameters, make predictions:", "TechNoteText",
 CellID->205804175,ExpressionUUID->"38a611e8-5e1b-4f4c-ba1b-bddf3d9095ca"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"mm", "=", 
   RowBox[{"mat", "/.", 
    RowBox[{"Thread", "[", 
     RowBox[{"aa", "->", "ww"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"vv", "=", 
   RowBox[{"Transpose", "[", 
    RowBox[{"mm", ".", 
     RowBox[{"Transpose", "[", "$in", "]"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"predicted", "=", 
  RowBox[{"Map", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"Sign", "@", 
      RowBox[{"Chop", "[", 
       RowBox[{
        RowBox[{"Conjugate", "[", "#", "]"}], ".", "Z1", ".", "#"}], "]"}]}], 
     "&"}], ",", "vv"}], "]"}]}]}], "Input",
 CellLabel->"In[107]:=",
 CellID->1502097555,ExpressionUUID->"4b13af19-ffb4-48d2-af60-f45eeab1f641"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"-", "1"}], ",", "1", ",", "1", ",", 
   RowBox[{"-", "1"}], ",", "1", ",", 
   RowBox[{"-", "1"}], ",", 
   RowBox[{"-", "1"}], ",", "1", ",", "1", ",", 
   RowBox[{"-", "1"}], ",", 
   RowBox[{"-", "1"}], ",", "1", ",", 
   RowBox[{"-", "1"}], ",", "1", ",", "1", ",", 
   RowBox[{"-", "1"}]}], "}"}]], "Output",
 CellLabel->"Out[109]=",
 CellID->1918253288,ExpressionUUID->"bdff6f71-f5b3-4866-8405-4129ae830eaf"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"predicted", "-", 
  RowBox[{"Values", "[", "data", "]"}]}]], "Input",
 CellLabel->"In[110]:=",
 CellID->2061494112,ExpressionUUID->"2a8d30b7-c5e2-4796-aa66-68f9c541ac6e"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",",
    "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", 
   "0"}], "}"}]], "Output",
 CellLabel->"Out[110]=",
 CellID->2058502652,ExpressionUUID->"619f9c35-a03b-4864-82b9-6d5dab27491b"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Verdict", "Subsubsection",
 CellID->511955943,ExpressionUUID->"74b48d18-ab25-4176-82f2-723327cac5ac"],

Cell["\<\
Two layers is sufficient to properly predict the parity values.\
\>", "Item",
 CellID->1759076356,ExpressionUUID->"006628ed-0978-4b7b-bb94-e0cb752dffbe"],

Cell[TextData[{
 "Using the ",
 StyleBox["Method->\[OpenCurlyDoubleQuote]IPOPT\[CloseCurlyDoubleQuote],", 
  "Input"],
 " ",
 ButtonBox["FindMinimum",
  BaseStyle->"Link",
  ButtonData->"paclet:ref/FindMinimum"],
 " is significantly faster than the default method or any other documented \
methods (IPOTP seems to refer to the non-linear interior-point method from \
the IPOPT library)."
}], "Item",
 CellID->792143574,ExpressionUUID->"e7e97442-ff15-4a30-8456-2a82ef5db482"],

Cell[TextData[{
 "Otherwise, ",
 ButtonBox["FindMinimum",
  BaseStyle->"Link",
  ButtonData->"paclet:ref/FindMinimum"],
 " is rather slow to handle 24 parameters."
}], "Item",
 CellID->635288345,ExpressionUUID->"c294a047-da13-487c-9b00-791789e3f727"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Using two layers imposing the constraints", "Subsection",
 CellID->1428432396,ExpressionUUID->"c38edf0c-ac67-4eab-9eb6-4546c69f3874"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$L", "=", "2"}], ";"}]], "Input",
 CellLabel->"In[69]:=",
 CellID->943589759,ExpressionUUID->"1c44a4a8-0200-4840-aec8-90c69ec03df4"],

Cell["Pick a quantum circuit layer to apply on the input states:", \
"TechNoteText",
 CellID->1893830065,ExpressionUUID->"91944d95-52b2-4bc3-a3aa-d6fb9cb9267f"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"op", "=", 
  RowBox[{"layer", "[", "$L", "]"}]}]], "Input",
 CellLabel->"In[70]:=",
 CellID->1746770268,ExpressionUUID->"a1db1930-699b-4665-9dc1-50b9b1f57783"],

Cell[BoxData[
 InterpretationBox[
  GraphicsBox[{
    {Dashing[{Small, Small}], LineBox[{}]}, 
    LineBox[{{{0, -1}, {11, -1}}, {{0, -2}, {11, -2}}, {{0, -3}, {11, -3}}, {{
     0, -4}, {11, -4}}}], {{
      {LightDarkSwitched[
        GrayLevel[1]], EdgeForm[Opacity[1]], 
       RectangleBox[{0.6, -1.4}, {1.4, -0.6}]}, InsetBox[
       StyleBox[
        SubscriptBox["\<\"R\"\>", "\<\"E\"\>"],
        StripOnInput->False,
        FontSize->Scaled[0.03636363636363637],
        FontWeight->"Light",
        FontSlant->Italic], {1., -1.}, NCache[
       ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
        ImageScaled[{0.5, 0.5}]], Automatic, {1, 0}]}, {
      {LightDarkSwitched[
        GrayLevel[1]], EdgeForm[Opacity[1]], 
       RectangleBox[{0.6, -2.4}, {1.4, -1.6}]}, InsetBox[
       StyleBox[
        SubscriptBox["\<\"R\"\>", "\<\"E\"\>"],
        StripOnInput->False,
        FontSize->Scaled[0.03636363636363637],
        FontWeight->"Light",
        FontSlant->Italic], {1., -2.}, NCache[
       ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
        ImageScaled[{0.5, 0.5}]], Automatic, {1, 0}]}, {
      {LightDarkSwitched[
        GrayLevel[1]], EdgeForm[Opacity[1]], 
       RectangleBox[{0.6, -3.4}, {1.4, -2.6}]}, InsetBox[
       StyleBox[
        SubscriptBox["\<\"R\"\>", "\<\"E\"\>"],
        StripOnInput->False,
        FontSize->Scaled[0.03636363636363637],
        FontWeight->"Light",
        FontSlant->Italic], {1., -3.}, NCache[
       ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
        ImageScaled[{0.5, 0.5}]], Automatic, {1, 0}]}, {
      {LightDarkSwitched[
        GrayLevel[1]], EdgeForm[Opacity[1]], 
       RectangleBox[{0.6, -4.4}, {1.4, -3.6}]}, InsetBox[
       StyleBox[
        SubscriptBox["\<\"R\"\>", "\<\"E\"\>"],
        StripOnInput->False,
        FontSize->Scaled[0.03636363636363637],
        FontWeight->"Light",
        FontSlant->Italic], {1., -4.}, NCache[
       ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
        ImageScaled[{0.5, 0.5}]], Automatic, {1, 0}]}}, {
     LineBox[{{2, -1}, {2, -2}}], 
     DiskBox[{2, -1}, 0.09], {CircleBox[{2, -2}, 0.26666666666666666], 
      LineBox[{{{1.7333333333333334`, -2}, {2.2666666666666666`, -2}}, {{
         2, -2.2666666666666666`}, {2, -1.7333333333333334`}}}]}}, {
     LineBox[{{3, -2}, {3, -3}}], 
     DiskBox[{3, -2}, 0.09], {CircleBox[{3, -3}, 0.26666666666666666], 
      LineBox[{{{2.7333333333333334`, -3}, {3.2666666666666666`, -3}}, {{
         3, -3.2666666666666666`}, {3, -2.7333333333333334`}}}]}}, {
     LineBox[{{4, -3}, {4, -4}}], 
     DiskBox[{4, -3}, 0.09], {CircleBox[{4, -4}, 0.26666666666666666], 
      LineBox[{{{3.7333333333333334`, -4}, {4.266666666666667, -4}}, {{
         4, -4.266666666666667}, {4, -3.7333333333333334`}}}]}}, {
     LineBox[{{5, -4}, {5, -1}}], 
     DiskBox[{5, -4}, 0.09], {CircleBox[{5, -1}, 0.26666666666666666], 
      LineBox[{{{4.733333333333333, -1}, {5.266666666666667, -1}}, {{
         5, -1.2666666666666666`}, {5, -0.7333333333333334}}}]}}, {{
      {LightDarkSwitched[
        GrayLevel[1]], EdgeForm[Opacity[1]], 
       RectangleBox[{5.6, -1.4}, {6.4, -0.6}]}, InsetBox[
       StyleBox[
        SubscriptBox["\<\"R\"\>", "\<\"E\"\>"],
        StripOnInput->False,
        FontSize->Scaled[0.03636363636363637],
        FontWeight->"Light",
        FontSlant->Italic], {6., -1.}, NCache[
       ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
        ImageScaled[{0.5, 0.5}]], Automatic, {1, 0}]}, {
      {LightDarkSwitched[
        GrayLevel[1]], EdgeForm[Opacity[1]], 
       RectangleBox[{5.6, -2.4}, {6.4, -1.6}]}, InsetBox[
       StyleBox[
        SubscriptBox["\<\"R\"\>", "\<\"E\"\>"],
        StripOnInput->False,
        FontSize->Scaled[0.03636363636363637],
        FontWeight->"Light",
        FontSlant->Italic], {6., -2.}, NCache[
       ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
        ImageScaled[{0.5, 0.5}]], Automatic, {1, 0}]}, {
      {LightDarkSwitched[
        GrayLevel[1]], EdgeForm[Opacity[1]], 
       RectangleBox[{5.6, -3.4}, {6.4, -2.6}]}, InsetBox[
       StyleBox[
        SubscriptBox["\<\"R\"\>", "\<\"E\"\>"],
        StripOnInput->False,
        FontSize->Scaled[0.03636363636363637],
        FontWeight->"Light",
        FontSlant->Italic], {6., -3.}, NCache[
       ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
        ImageScaled[{0.5, 0.5}]], Automatic, {1, 0}]}, {
      {LightDarkSwitched[
        GrayLevel[1]], EdgeForm[Opacity[1]], 
       RectangleBox[{5.6, -4.4}, {6.4, -3.6}]}, InsetBox[
       StyleBox[
        SubscriptBox["\<\"R\"\>", "\<\"E\"\>"],
        StripOnInput->False,
        FontSize->Scaled[0.03636363636363637],
        FontWeight->"Light",
        FontSlant->Italic], {6., -4.}, NCache[
       ImageScaled[{Rational[1, 2], Rational[1, 2]}], 
        ImageScaled[{0.5, 0.5}]], Automatic, {1, 0}]}}, {
     LineBox[{{7, -1}, {7, -2}}], 
     DiskBox[{7, -1}, 0.09], {CircleBox[{7, -2}, 0.26666666666666666], 
      LineBox[{{{6.733333333333333, -2}, {7.266666666666667, -2}}, {{
         7, -2.2666666666666666`}, {7, -1.7333333333333334`}}}]}}, {
     LineBox[{{8, -2}, {8, -3}}], 
     DiskBox[{8, -2}, 0.09], {CircleBox[{8, -3}, 0.26666666666666666], 
      LineBox[{{{7.733333333333333, -3}, {8.266666666666667, -3}}, {{
         8, -3.2666666666666666`}, {8, -2.7333333333333334`}}}]}}, {
     LineBox[{{9, -3}, {9, -4}}], 
     DiskBox[{9, -3}, 0.09], {CircleBox[{9, -4}, 0.26666666666666666], 
      LineBox[{{{8.733333333333333, -4}, {9.266666666666667, -4}}, {{
         9, -4.266666666666667}, {9, -3.7333333333333334`}}}]}}, {
     LineBox[{{10, -4}, {10, -1}}], 
     DiskBox[{10, -4}, 0.09], {CircleBox[{10, -1}, 0.26666666666666666], 
      LineBox[{{{9.733333333333333, -1}, {10.266666666666667`, -1}}, {{
         10, -1.2666666666666666`}, {10, -0.7333333333333334}}}]}}},
   ImagePadding->{{25.56, 25.56}, {7.2, 7.2}},
   ImageSize->442.8,
   PlotRange->{{0, 11}, {-4.5, -0.5}},
   PlotRangePadding->Scaled[0.025]],
  QuantumMob`Q3`QuantumCircuit[{
    QuantumMob`Q3`EulerRotation[{
      $CellContext`a[1, 1, 1], 
      $CellContext`a[1, 1, 2], 
      $CellContext`a[1, 1, 3]}, 
     $CellContext`S[1, QuantumMob`Q3`$]], 
    QuantumMob`Q3`EulerRotation[{
      $CellContext`a[1, 2, 1], 
      $CellContext`a[1, 2, 2], 
      $CellContext`a[1, 2, 3]}, 
     $CellContext`S[2, QuantumMob`Q3`$]], 
    QuantumMob`Q3`EulerRotation[{
      $CellContext`a[1, 3, 1], 
      $CellContext`a[1, 3, 2], 
      $CellContext`a[1, 3, 3]}, 
     $CellContext`S[3, QuantumMob`Q3`$]], 
    QuantumMob`Q3`EulerRotation[{
      $CellContext`a[1, 4, 1], 
      $CellContext`a[1, 4, 2], 
      $CellContext`a[1, 4, 3]}, 
     $CellContext`S[4, QuantumMob`Q3`$]]}, 
   QuantumMob`Q3`CNOT[{$CellContext`S[1, QuantumMob`Q3`$] -> 1}, {
     $CellContext`S[2, QuantumMob`Q3`$]}], 
   QuantumMob`Q3`CNOT[{$CellContext`S[2, QuantumMob`Q3`$] -> 1}, {
     $CellContext`S[3, QuantumMob`Q3`$]}], 
   QuantumMob`Q3`CNOT[{$CellContext`S[3, QuantumMob`Q3`$] -> 1}, {
     $CellContext`S[4, QuantumMob`Q3`$]}], 
   QuantumMob`Q3`CNOT[{$CellContext`S[4, QuantumMob`Q3`$] -> 1}, {
     $CellContext`S[1, QuantumMob`Q3`$]}], {
    QuantumMob`Q3`EulerRotation[{
      $CellContext`a[2, 1, 1], 
      $CellContext`a[2, 1, 2], 
      $CellContext`a[2, 1, 3]}, 
     $CellContext`S[1, QuantumMob`Q3`$]], 
    QuantumMob`Q3`EulerRotation[{
      $CellContext`a[2, 2, 1], 
      $CellContext`a[2, 2, 2], 
      $CellContext`a[2, 2, 3]}, 
     $CellContext`S[2, QuantumMob`Q3`$]], 
    QuantumMob`Q3`EulerRotation[{
      $CellContext`a[2, 3, 1], 
      $CellContext`a[2, 3, 2], 
      $CellContext`a[2, 3, 3]}, 
     $CellContext`S[3, QuantumMob`Q3`$]], 
    QuantumMob`Q3`EulerRotation[{
      $CellContext`a[2, 4, 1], 
      $CellContext`a[2, 4, 2], 
      $CellContext`a[2, 4, 3]}, 
     $CellContext`S[4, QuantumMob`Q3`$]]}, 
   QuantumMob`Q3`CNOT[{$CellContext`S[1, QuantumMob`Q3`$] -> 1}, {
     $CellContext`S[2, QuantumMob`Q3`$]}], 
   QuantumMob`Q3`CNOT[{$CellContext`S[2, QuantumMob`Q3`$] -> 1}, {
     $CellContext`S[3, QuantumMob`Q3`$]}], 
   QuantumMob`Q3`CNOT[{$CellContext`S[3, QuantumMob`Q3`$] -> 1}, {
     $CellContext`S[4, QuantumMob`Q3`$]}], 
   QuantumMob`Q3`CNOT[{$CellContext`S[4, QuantumMob`Q3`$] -> 1}, {
     $CellContext`S[1, QuantumMob`Q3`$]}]]]], "Output",
 CellLabel->"Out[70]=",
 CellID->2134753138,ExpressionUUID->"8b864dca-5b7d-49cb-bda3-43425925258e"]
}, Open  ]],

Cell["\<\
Check which parameters are actually involved in the above quantum circuit:\
\>", "TechNoteText",
 CellID->959851573,ExpressionUUID->"1b06c594-9aa3-4105-8dba-5a4ba7fadca7"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"param", "=", 
  RowBox[{"Cases", "[", 
   RowBox[{"op", ",", "_a", ",", "Infinity"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"Length", "[", "param", "]"}]}], "Input",
 CellLabel->"In[71]:=",
 CellID->328231147,ExpressionUUID->"2c4072c2-8ccd-46bb-b90a-595c1144f04c"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "1", "1", "1"},
      "RowWithSeparators"]],
    $CellContext`a[1, 1, 1]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "1", "1", "2"},
      "RowWithSeparators"]],
    $CellContext`a[1, 1, 2]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "1", "1", "3"},
      "RowWithSeparators"]],
    $CellContext`a[1, 1, 3]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "1", "2", "1"},
      "RowWithSeparators"]],
    $CellContext`a[1, 2, 1]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "1", "2", "2"},
      "RowWithSeparators"]],
    $CellContext`a[1, 2, 2]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "1", "2", "3"},
      "RowWithSeparators"]],
    $CellContext`a[1, 2, 3]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "1", "3", "1"},
      "RowWithSeparators"]],
    $CellContext`a[1, 3, 1]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "1", "3", "2"},
      "RowWithSeparators"]],
    $CellContext`a[1, 3, 2]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "1", "3", "3"},
      "RowWithSeparators"]],
    $CellContext`a[1, 3, 3]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "1", "4", "1"},
      "RowWithSeparators"]],
    $CellContext`a[1, 4, 1]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "1", "4", "2"},
      "RowWithSeparators"]],
    $CellContext`a[1, 4, 2]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "1", "4", "3"},
      "RowWithSeparators"]],
    $CellContext`a[1, 4, 3]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "2", "1", "1"},
      "RowWithSeparators"]],
    $CellContext`a[2, 1, 1]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "2", "1", "2"},
      "RowWithSeparators"]],
    $CellContext`a[2, 1, 2]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "2", "1", "3"},
      "RowWithSeparators"]],
    $CellContext`a[2, 1, 3]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "2", "2", "1"},
      "RowWithSeparators"]],
    $CellContext`a[2, 2, 1]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "2", "2", "2"},
      "RowWithSeparators"]],
    $CellContext`a[2, 2, 2]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "2", "2", "3"},
      "RowWithSeparators"]],
    $CellContext`a[2, 2, 3]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "2", "3", "1"},
      "RowWithSeparators"]],
    $CellContext`a[2, 3, 1]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "2", "3", "2"},
      "RowWithSeparators"]],
    $CellContext`a[2, 3, 2]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "2", "3", "3"},
      "RowWithSeparators"]],
    $CellContext`a[2, 3, 3]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "2", "4", "1"},
      "RowWithSeparators"]],
    $CellContext`a[2, 4, 1]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "2", "4", "2"},
      "RowWithSeparators"]],
    $CellContext`a[2, 4, 2]], ",", 
   InterpretationBox[
    SubscriptBox["a", 
     TemplateBox[{",", "\",\"", "2", "4", "3"},
      "RowWithSeparators"]],
    $CellContext`a[2, 4, 3]]}], "}"}]], "Output",
 CellLabel->"Out[71]=",
 CellID->373470935,ExpressionUUID->"e8879798-1a5d-41c7-a061-d5612c883bc5"],

Cell[BoxData["24"], "Output",
 CellLabel->"Out[72]=",
 CellID->1978788011,ExpressionUUID->"1df47905-3d20-4ec2-a809-63d5b67db2af"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"mat", "=", 
   RowBox[{"Normal", "@", 
    RowBox[{"N", "@", 
     RowBox[{"Matrix", "[", "op", "]"}]}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Dimensions", "[", "mat", "]"}]}], "Input",
 CellLabel->"In[73]:=",
 CellID->1252799684,ExpressionUUID->"5b611370-ef1f-4a7e-90f4-b40870eeec2e"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"16", ",", "16"}], "}"}]], "Output",
 CellLabel->"Out[74]=",
 CellID->1685513952,ExpressionUUID->"da900fdc-4472-4614-b5de-d0df3d0e667a"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"Z1", "=", 
   RowBox[{"Matrix", "[", 
    RowBox[{
     RowBox[{"S", "[", 
      RowBox[{"1", ",", "3"}], "]"}], ",", "SS"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Dimensions", "[", "Z1", "]"}]}], "Input",
 CellLabel->"In[75]:=",
 CellID->901551463,ExpressionUUID->"3faf1988-4159-432f-aac8-1f96de56ca88"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"16", ",", "16"}], "}"}]], "Output",
 CellLabel->"Out[76]=",
 CellID->976203687,ExpressionUUID->"f5208c5c-229a-46c9-b9e5-2fc60a2ae342"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"w0", "=", 
  RowBox[{"Flatten", "@", 
   RowBox[{"RandomReal", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{"0", ",", "1"}], "}"}], "Pi"}], ",", 
     RowBox[{"{", 
      RowBox[{"$L", ",", "$n", ",", "3"}], "}"}]}], "]"}]}]}], "\[IndentingNewLine]", 
 RowBox[{"Length", "[", "w0", "]"}]}], "Input",
 CellLabel->"In[77]:=",
 CellID->730693292,ExpressionUUID->"123ddeb7-2b4f-4196-b7b6-c68c02148d70"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "3.028757866650338`", ",", "1.1892906042125562`", ",", 
   "2.6537238112397685`", ",", "0.004250020603026115`", ",", 
   "0.8383030778148114`", ",", "0.7798453336133546`", ",", 
   "0.9764150607134112`", ",", "0.21399435620895835`", ",", 
   "0.5286410448762552`", ",", "0.765385291313483`", ",", "2.28006509956214`",
    ",", "2.011695761182898`", ",", "1.7042086900327498`", ",", 
   "0.41696752083884514`", ",", "1.5162270307148045`", ",", 
   "0.36019881661928344`", ",", "2.34484605628435`", ",", 
   "0.5789371706291155`", ",", "2.1061456569116093`", ",", 
   "0.3001720467005718`", ",", "0.29421761782216316`", ",", 
   "0.928070438153619`", ",", "1.276551457938791`", ",", 
   "0.4997392405689359`"}], "}"}]], "Output",
 CellLabel->"Out[77]=",
 CellID->1019118283,ExpressionUUID->"34c15fa6-7263-4393-abe0-46adabaf9fbf"],

Cell[BoxData["24"], "Output",
 CellLabel->"Out[78]=",
 CellID->2138897556,ExpressionUUID->"d631512f-519b-4976-b1ae-3bcd44f21150"]
}, Open  ]],

Cell["The set of parameters:", "TechNoteText",
 CellID->1695059541,ExpressionUUID->"d65ba950-c44a-4fa0-9d6e-e9c093223662"],

Cell[BoxData[
 RowBox[{
  RowBox[{"aa", "=", 
   RowBox[{"a", "[", 
    RowBox[{
     RowBox[{"Range", "@", "$L"}], ",", 
     RowBox[{"Range", "@", "$n"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "2", ",", "3"}], "}"}]}], "]"}]}], ";"}]], "Input",
 CellLabel->"In[79]:=",
 CellID->347644485,ExpressionUUID->"125c7472-f60a-49c8-b39f-3bee5fec9c49"],

Cell["Prepare the natural constraints for angles:", "TechNoteText",
 CellID->258268342,ExpressionUUID->"25b4c3d9-dff5-40e9-a918-ef2bf796f619"],

Cell[BoxData[
 RowBox[{
  RowBox[{"constraints", "=", 
   RowBox[{"Thread", "[", 
    RowBox[{"0", "<=", "aa", "<", "Pi"}], "]"}]}], ";"}]], "Input",
 CellLabel->"In[80]:=",
 CellID->703106536,ExpressionUUID->"345fa532-18eb-4f87-94e0-824b9a848d18"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "optimizer", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"optimizer", "[", "ww_", "]"}], ":=", 
  RowBox[{"Module", "[", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"ii", "=", 
       RowBox[{"RandomChoice", "[", 
        RowBox[{
         RowBox[{"Range", "@", 
          RowBox[{"Length", "@", "data"}]}], ",", "4"}], "]"}]}], ",", 
      "\[IndentingNewLine]", "yy", ",", "vv", ",", "avg", ",", "sol", ",", 
      "cost"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"Echo", "[", 
      RowBox[{"ii", ",", "\"\<ii\>\""}], "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"yy", "=", 
      RowBox[{"Part", "[", 
       RowBox[{
        RowBox[{"Values", "@", "data"}], ",", "ii"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"vv", "=", 
      RowBox[{"Transpose", "@", 
       RowBox[{"SparseArray", "@", 
        RowBox[{"Part", "[", 
         RowBox[{"$in", ",", "ii"}], "]"}]}]}]}], ";", "\[IndentingNewLine]", 
     
     RowBox[{"vv", "=", 
      RowBox[{"Transpose", "[", 
       RowBox[{"mat", ".", "vv"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"avg", "=", 
      RowBox[{"Map", "[", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{"Conjugate", "[", "#", "]"}], ".", "Z1", ".", "#"}], "&"}], 
        ",", "vv"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"cost", "=", 
      RowBox[{
       RowBox[{"Mean", "@", 
        RowBox[{"Abs", "[", 
         RowBox[{"avg", "-", "yy"}], "]"}]}], "^", "2"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"Echo", "[", 
      RowBox[{
       RowBox[{
        RowBox[{
         RowBox[{"{", 
          RowBox[{"avg", ",", "cost"}], "}"}], "/.", 
         RowBox[{"Thread", "[", 
          RowBox[{"aa", "->", "ww"}], "]"}]}], "//", "Chop"}], 
       ",", "\"\<{avg, cost}\>\""}], "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"EchoTiming", "[", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"cost", ",", "sol"}], "}"}], "=", 
       RowBox[{"FindMinimum", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"cost", ",", "constraints"}], "}"}], ",", 
         RowBox[{"Transpose", "@", 
          RowBox[{"{", 
           RowBox[{"aa", ",", "ww"}], "}"}]}], ",", "\[IndentingNewLine]", 
         RowBox[{"StepMonitor", ":>", 
          RowBox[{"PrintTemporary", "[", 
           RowBox[{"\"\<Cost: \>\"", ",", "cost"}], "]"}]}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"Method", "->", "\"\<IPOPT\>\""}]}], "]"}]}], 
      "\[IndentingNewLine]", "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"Echo", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"Chop", "[", 
          RowBox[{"avg", "/.", "sol"}], "]"}], ",", "yy", ",", "cost"}], 
        "}"}], ",", "\"\<{avg, yy, cost}\>\""}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"Return", "[", 
      RowBox[{"aa", "/.", "sol"}], "]"}]}]}], "\[IndentingNewLine]", 
   "]"}]}]}], "Input",
 CellLabel->"In[81]:=",
 CellID->1656524758,ExpressionUUID->"82012711-f63f-4760-ac2d-16afdd9d892a"],

Cell["Test the optimizer:", "TechNoteText",
 CellID->1233607998,ExpressionUUID->"78d60039-1ac7-45b9-8e56-89df323e8a2d"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"optimizer", "[", "w0", "]"}]], "Input",
 CellLabel->"In[83]:=",
 CellID->1442494248,ExpressionUUID->"cd702cff-0f72-4156-90de-787ec617b415"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  TagBox["\<\"ii\"\>",
   "EchoLabel"], "  ", 
  RowBox[{"{", 
   RowBox[{"15", ",", "13", ",", "9", ",", "5"}], "}"}]}]], "Echo",
 CellID->843178943,ExpressionUUID->"331c33a7-0de8-484a-a6ef-d7f45057def7"],

Cell[BoxData[
 RowBox[{
  TagBox["\<\"{avg, cost}\"\>",
   "EchoLabel"], "  ", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"0.15702860850997274`", ",", 
      RowBox[{"-", "0.35875562075312384`"}], ",", 
      RowBox[{"-", "0.03734476334227434`"}], ",", "0.36520937444909024`"}], 
     "}"}], ",", "0.6226595401811373`"}], "}"}]}]], "Echo",
 CellID->63908448,ExpressionUUID->"03dfc6ad-e932-4781-b4c4-50ebaa5c7a96"],

Cell[BoxData["2.565798`"], "EchoTiming",
 CellID->383659467,ExpressionUUID->"97586c01-a6df-43e2-b5ea-c059604bc050"],

Cell[BoxData[
 RowBox[{
  TagBox["\<\"{avg, yy, cost}\"\>",
   "EchoLabel"], "  ", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"0.999744214563442`", ",", 
      RowBox[{"-", "0.9997441201553463`"}], ",", "0.9995545875381542`", ",", 
      "0.9997441194643317`"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"1", ",", 
      RowBox[{"-", "1"}], ",", "1", ",", "1"}], "}"}], ",", 
    "9.195423662060203`*^-8"}], "}"}]}]], "Echo",
 CellID->1418753575,ExpressionUUID->"740f5db1-347d-4285-a460-61e0c965dd44"]
}, Open  ]],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "3.1293018681630613`", ",", "1.5707961627739466`", ",", 
   "1.8599265822572748`", ",", "0.012290919148139963`", ",", 
   "1.5707964174833577`", ",", "1.3507700255169646`", ",", 
   "1.5707967035908617`", ",", "1.5777461045680254`", ",", 
   "1.2906586806456752`", ",", "1.2976536580244387`", ",", 
   "1.7970997812200604`", ",", "1.697465154513983`", ",", 
   "1.6096088537893058`", ",", "1.2664921956348392`", ",", 
   "1.5548673608326253`", ",", "1.254692039770301`", ",", 
   "3.127462646331267`", ",", "1.3046094249661562`", ",", 
   "1.7235738140342034`", ",", "1.5707712464880708`", ",", 
   "1.573640587153413`", ",", "1.3890601839499621`", ",", 
   "1.5707963829164058`", ",", "0.012618842132782708`"}], "}"}]], "Output",
 CellLabel->"Out[83]=",
 CellID->1480402384,ExpressionUUID->"fe0ae17d-d23c-4d74-ab1c-96f0752fb17a"]
}, Open  ]],

Cell["Find the optimal values of the parameters iteratively:", "TechNoteText",
 CellID->1771739654,ExpressionUUID->"37c3c249-4b5c-4cd3-8680-4bc599bd7dd3"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"$R", "=", "3"}], ";"}], 
  RowBox[{"(*", " ", 
   RowBox[{"the", " ", "number", " ", "of", " ", "iterations"}], " ", 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{"ww", "=", 
  RowBox[{"Nest", "[", 
   RowBox[{"optimizer", ",", "w0", ",", "$R"}], "]"}]}]}], "Input",
 CellLabel->"In[84]:=",
 CellID->620115476,ExpressionUUID->"a7d4b4ab-2a81-46bd-8d42-6ec7c3d6eb54"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  TagBox["\<\"ii\"\>",
   "EchoLabel"], "  ", 
  RowBox[{"{", 
   RowBox[{"6", ",", "6", ",", "5", ",", "12"}], "}"}]}]], "Echo",
 CellID->377333746,ExpressionUUID->"14489676-95dc-45a8-be0d-4edfa312cb74"],

Cell[BoxData[
 RowBox[{
  TagBox["\<\"{avg, cost}\"\>",
   "EchoLabel"], "  ", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"-", "0.16033493881409655`"}], ",", 
      RowBox[{"-", "0.16033493881409655`"}], ",", "0.36520937444909024`", ",",
       "0.009856149412200532`"}], "}"}], ",", "0.6823852835606163`"}], 
   "}"}]}]], "Echo",
 CellID->329059431,ExpressionUUID->"727abd43-d1c9-47c3-ac60-20ada09518ed"],

Cell[BoxData["2.352947`"], "EchoTiming",
 CellID->1662951679,ExpressionUUID->"0067819d-f411-4711-afbe-a87c15fe3cee"],

Cell[BoxData[
 RowBox[{
  TagBox["\<\"{avg, yy, cost}\"\>",
   "EchoLabel"], "  ", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"-", "0.9997532645914262`"}], ",", 
      RowBox[{"-", "0.9997532645914262`"}], ",", "0.9997229752422291`", ",", 
      "0.999183288953984`"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"-", "1"}], ",", 
      RowBox[{"-", "1"}], ",", "1", ",", "1"}], "}"}], ",", 
    "1.5745155359625677`*^-7"}], "}"}]}]], "Echo",
 CellID->1876686895,ExpressionUUID->"bed56fbd-038f-4653-978a-202d3a8a08ab"],

Cell[BoxData[
 RowBox[{
  TagBox["\<\"ii\"\>",
   "EchoLabel"], "  ", 
  RowBox[{"{", 
   RowBox[{"10", ",", "3", ",", "7", ",", "2"}], "}"}]}]], "Echo",
 CellID->1384320776,ExpressionUUID->"ebe55cc2-0a75-438a-b5ae-a9465d8d1efc"],

Cell[BoxData[
 RowBox[{
  TagBox["\<\"{avg, cost}\"\>",
   "EchoLabel"], "  ", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"-", "0.9991816141445629`"}], ",", "0.9995967319733943`", ",", 
      RowBox[{"-", "0.9997246500514494`"}], ",", "0.9991816141444361`"}], 
     "}"}], ",", "3.350643374227568`*^-7"}], "}"}]}]], "Echo",
 CellID->441450634,ExpressionUUID->"c421994c-0e88-4654-a5ae-5a2652a453ce"],

Cell[BoxData["2.489785`"], "EchoTiming",
 CellID->381672460,ExpressionUUID->"e25da553-966e-4d1f-ad01-f881d76a21f9"],

Cell[BoxData[
 RowBox[{
  TagBox["\<\"{avg, yy, cost}\"\>",
   "EchoLabel"], "  ", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"-", "0.9994546036031464`"}], ",", "0.9997460935883531`", ",", 
      RowBox[{"-", "0.9997468086122638`"}], ",", "0.9994546036030866`"}], 
     "}"}], ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"-", "1"}], ",", "1", ",", 
      RowBox[{"-", "1"}], ",", "1"}], "}"}], ",", "1.5957839672981297`*^-7"}],
    "}"}]}]], "Echo",
 CellID->235381631,ExpressionUUID->"03e951d3-d0ff-41e0-97c3-b2b3c0d5befc"],

Cell[BoxData[
 RowBox[{
  TagBox["\<\"ii\"\>",
   "EchoLabel"], "  ", 
  RowBox[{"{", 
   RowBox[{"12", ",", "11", ",", "3", ",", "4"}], "}"}]}]], "Echo",
 CellID->394194443,ExpressionUUID->"47695cc6-da8b-48da-ab09-b275377aff40"],

Cell[BoxData[
 RowBox[{
  TagBox["\<\"{avg, cost}\"\>",
   "EchoLabel"], "  ", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"0.9994549290323815`", ",", 
      RowBox[{"-", "0.9997460935884335`"}], ",", "0.9997460935883531`", ",", 
      RowBox[{"-", "0.9994549290323012`"}]}], "}"}], ",", 
    "1.5959121314446406`*^-7"}], "}"}]}]], "Echo",
 CellID->238952506,ExpressionUUID->"5d8c1e83-fa0f-47f8-a1ed-e1969256a3ba"],

Cell[BoxData["2.500902`"], "EchoTiming",
 CellID->1344585882,ExpressionUUID->"a60d61f7-102a-42fe-b8e0-d2147e1862f0"],

Cell[BoxData[
 RowBox[{
  TagBox["\<\"{avg, yy, cost}\"\>",
   "EchoLabel"], "  ", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"0.9994390570845241`", ",", 
      RowBox[{"-", "0.9997619366100332`"}], ",", "0.9997619366100299`", ",", 
      RowBox[{"-", "0.9994390570845211`"}]}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"1", ",", 
      RowBox[{"-", "1"}], ",", "1", ",", 
      RowBox[{"-", "1"}]}], "}"}], ",", "1.5960276903552743`*^-7"}], 
   "}"}]}]], "Echo",
 CellID->484501393,ExpressionUUID->"864f02f3-31c9-4bdf-88e5-c4652b061b74"]
}, Open  ]],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "3.1309086020647774`", ",", "1.5707966363966004`", ",", 
   "1.5707989873783492`", ",", "0.010683719824390297`", ",", 
   "1.5707966411272567`", ",", "1.5707995521200406`", ",", 
   "1.5708490095471737`", ",", "0.0075573863676819935`", ",", 
   "1.5707948114411998`", ",", "0.010684023060421674`", ",", 
   "1.5707966321127225`", ",", "1.5707933184415883`", ",", 
   "1.5707939546961205`", ",", "1.5708063044735883`", ",", 
   "1.5707957929114789`", ",", "1.570796259608011`", ",", 
   "3.1340356442207162`", ",", "1.5766704774779974`", ",", 
   "1.5708023945393614`", ",", "0.010683418092208205`", ",", 
   "1.570803250629239`", ",", "1.5707884758656308`", ",", 
   "1.5707966358972358`", ",", "0.010684023358101306`"}], "}"}]], "Output",
 CellLabel->"Out[85]=",
 CellID->1904406374,ExpressionUUID->"bbe2f2ca-ad48-4741-8976-7dec38df84fb"]
}, Open  ]],

Cell["From the optimized parameters, make predictions:", "TechNoteText",
 CellID->565591423,ExpressionUUID->"671c35e1-deba-4718-bdc6-9e58ed8894da"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"mm", "=", 
   RowBox[{"mat", "/.", 
    RowBox[{"Thread", "[", 
     RowBox[{"aa", "->", "ww"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"vv", "=", 
   RowBox[{"Transpose", "[", 
    RowBox[{"mm", ".", 
     RowBox[{"Transpose", "[", "$in", "]"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"predicted", "=", 
  RowBox[{"Map", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"Sign", "@", 
      RowBox[{"Chop", "[", 
       RowBox[{
        RowBox[{"Conjugate", "[", "#", "]"}], ".", "Z1", ".", "#"}], "]"}]}], 
     "&"}], ",", "vv"}], "]"}]}]}], "Input",
 CellLabel->"In[86]:=",
 CellID->1132424739,ExpressionUUID->"f2bbb9ec-8930-41ec-8038-23b7449ba81e"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"-", "1"}], ",", "1", ",", "1", ",", 
   RowBox[{"-", "1"}], ",", "1", ",", 
   RowBox[{"-", "1"}], ",", 
   RowBox[{"-", "1"}], ",", "1", ",", "1", ",", 
   RowBox[{"-", "1"}], ",", 
   RowBox[{"-", "1"}], ",", "1", ",", 
   RowBox[{"-", "1"}], ",", "1", ",", "1", ",", 
   RowBox[{"-", "1"}]}], "}"}]], "Output",
 CellLabel->"Out[88]=",
 CellID->1261652930,ExpressionUUID->"5d46c680-5392-4525-b969-2da82e915b0f"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"predicted", "-", 
  RowBox[{"Values", "[", "data", "]"}]}]], "Input",
 CellLabel->"In[89]:=",
 CellID->873300696,ExpressionUUID->"81b47b0c-3537-421e-9739-eea930973330"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",",
    "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", 
   "0"}], "}"}]], "Output",
 CellLabel->"Out[89]=",
 CellID->347264032,ExpressionUUID->"74ce40da-7b04-4b0f-8e84-a2c6dd3846e4"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Verdict", "Subsubsection",
 CellID->351030337,ExpressionUUID->"60fd2722-4d33-4a00-97a4-bc1681057b40"],

Cell["\<\
Two layers is sufficient to properly predict the parity values.\
\>", "Item",
 CellID->32805757,ExpressionUUID->"3042432e-240a-44e7-8f1d-17def8f0a192"],

Cell[TextData[{
 "Using the ",
 StyleBox["Method->\[OpenCurlyDoubleQuote]IPOPT\[CloseCurlyDoubleQuote],", 
  "Input"],
 " ",
 ButtonBox["FindMinimum",
  BaseStyle->"Link",
  ButtonData->"paclet:ref/FindMinimum"],
 " is significantly faster than the default method or any other documented \
methods (IPOTP seems to refer to the non-linear interior-point method from \
the IPOPT library)."
}], "Item",
 CellID->1610544267,ExpressionUUID->"3a3054ca-a749-42b9-9162-787a91c85d25"],

Cell[TextData[{
 "Otherwise, ",
 ButtonBox["FindMinimum",
  BaseStyle->"Link",
  ButtonData->"paclet:ref/FindMinimum"],
 " is rather slow to handle 24 parameters."
}], "Item",
 CellID->1533608681,ExpressionUUID->"01063228-6222-40a2-8f1c-5f33b1035249"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, "RelatedGuide.png"]],
     ImageSizeCache->{50., {26.47265625, 33.52734375}}], GridBox[{
      {
       StyleBox[
        RowBox[{"Related", " ", "Guides"}], "TutorialMoreAboutSection"]},
      {
       RowBox[{
       "\[FilledVerySmallSquare]", Cell[TextData[ButtonBox[
        "Quantum Information Systems",
         BaseStyle->"Link",
         ButtonData->"paclet:QuantumMob/Q3/guide/QuantumInformationSystems"]],
          "TutorialMoreAbout",ExpressionUUID->
         "aeba7dfd-b945-4969-b826-ecd77b6f815f"]}]},
      {
       RowBox[{
       "\[FilledVerySmallSquare]", Cell[TextData[ButtonBox[
        "Quantum Many-Body Systems",
         BaseStyle->"Link",
         ButtonData->"paclet:QuantumMob/Q3/guide/QuantumManyBodySystems"]], 
         "TutorialMoreAbout",ExpressionUUID->
         "a272af2e-1a6b-430b-ba8b-cc5e6fb70ad2"]}]},
      {
       RowBox[{
       "\[FilledVerySmallSquare]", Cell[TextData[ButtonBox[
        "Quantum Spin Systems",
         BaseStyle->"Link",
         ButtonData->"paclet:QuantumMob/Q3/guide/QuantumSpinSystems"]], 
         "TutorialMoreAbout",ExpressionUUID->
         "70dd993b-a867-4d0e-bbdf-77fe363d3778"]}]}
     }]}
  }]], "TutorialMoreAboutSection",ExpressionUUID->"dacaad8c-4d66-442f-ab67-\
9f74a03cdb02"],

Cell[BoxData[GridBox[{
   {
    DynamicBox[FEPrivate`ImportImage[
      FrontEnd`FileName[{"Documentation", "FooterIcons"}, 
       "RelatedTutorial.png"]],
     ImageSizeCache->{50., {26.47265625, 33.52734375}}], GridBox[{
      {
       StyleBox[
        RowBox[{"Related", " ", "Tech", " ", "Notes"}], 
        "RelatedTutorialsSection"]},
      {
       RowBox[{
       "\[FilledVerySmallSquare]", Cell[TextData[ButtonBox[
        "A Quantum Playbook",
         BaseStyle->"Link",
         ButtonData->
          "paclet:QuantumMob/QuantumPlaybook/tutorial/QuantumPlaybook"]], 
         "RelatedTutorials",ExpressionUUID->
         "30e453e8-06ee-4de6-b71e-793210c5a1eb"]}]},
      {
       RowBox[{
       "\[FilledVerySmallSquare]", Cell[TextData[ButtonBox[
        "Quantum Information Systems with Q3",
         BaseStyle->"Link",
         ButtonData->
          "paclet:QuantumMob/Q3/tutorial/QuantumInformationSystems"]], 
         "RelatedTutorials",ExpressionUUID->
         "2e91aecd-5fda-473e-82da-7d4192f0f65f"]}]},
      {
       RowBox[{
       "\[FilledVerySmallSquare]", Cell[TextData[ButtonBox[
        "Quantum Many-Body Systems with Q3",
         BaseStyle->"Link",
         ButtonData->"paclet:QuantumMob/Q3/tutorial/QuantumManyBodySystems"]],
          "RelatedTutorials",ExpressionUUID->
         "86eb9263-305b-42d1-91b5-cdbf830f6729"]}]},
      {
       RowBox[{
       "\[FilledVerySmallSquare]", Cell[TextData[ButtonBox[
        "Quantum Spin Systems with Q3",
         BaseStyle->"Link",
         ButtonData->"paclet:QuantumMob/Q3/tutorial/QuantumSpinSystems"]], 
         "RelatedTutorials",ExpressionUUID->
         "d1aae1c4-bbed-4257-8d1e-560c9e52b71d"]}]}
     }]}
  }]], "RelatedTutorialsSection",ExpressionUUID->"0ac8249a-194a-4c48-bd73-\
b99544af0fcf"],

Cell[BoxData[GridBox[{
   {
    TemplateBox[{29},
     "Spacer1"], GridBox[{
      {
       RowBox[{
        TemplateBox[{17},
         "Spacer1"], 
        StyleBox[
         RowBox[{"Related", " ", "Links"}], 
         "TutorialRelatedLinksSection"]}]},
      {Cell[TextData[{
        "Maria Should, PennyLane demonstration \[OpenCurlyDoubleQuote]",
        Cell[BoxData[
         TemplateBox[{
           Cell[
            TextData["Variational classifier"]], 
           "https://pennylane.ai/qml/demos/tutorial_variational_classifier"},
          "WebLink",
          BaseStyle->{"RelatedTutorials"}]],ExpressionUUID->
         "81066003-9f97-41d2-af7c-992a0906a533"],
        "\[CloseCurlyDoubleQuote]."
       }], "RelatedTutorials",ExpressionUUID->
        "0efd5011-f7f8-4628-bad8-aa7a5eeb517c"]},
      {Cell[TextData[{
        Cell[BoxData[
         RowBox[{
          TemplateBox[{16},
           "Spacer1"], "\[FilledVerySmallSquare]", Cell[BoxData[
           TemplateBox[{
             Cell[
              TextData[
               Cell[
                TextData[{
                  Cell[
                   BoxData[
                    TemplateBox[{2}, "Spacer1"]]], 
                  "Mahn-Soo Choi (2022)"}]]]], 
             "https://doi.org/10.1007/978-3-030-91214-7"},
            "WebLink",
            BaseStyle->{"TutorialRelatedLinks"}]],ExpressionUUID->
           "214de6a1-0fcf-4db9-af94-41e23d091614"]}]],ExpressionUUID->
         "0bf590d9-a056-420a-a0c2-f58d389049b2"],
        ", A Quantum Computation Workbook (Springer, 2022)."
       }], "TutorialRelatedLinks",ExpressionUUID->
        "8dc027e2-4378-41fc-80b3-14778a2ae7a4"]}
     }]}
  }]], "TutorialRelatedLinksSection",ExpressionUUID->"d8c7c74f-cda0-4797-bb4b-\
9fa840c56881"]
}, Open  ]],

Cell[" ", "FooterCell",ExpressionUUID->"5cf66b86-7a55-4c90-ac81-270450ddc1dd"]
},
Saveable->False,
ScreenStyleEnvironment->"Working",
WindowSize->{900, 830},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
WindowTitle->"Variational Quantum Classifier: Parity",
Visible->True,
TaggingRules->{
 "ModificationHighlight" -> False, "ColorType" -> "", "LinkTrails" -> "", 
  "ExampleCounter" -> 1, 
  "Openers" -> {
   "PrimaryExamplesSection" -> Open, "ExampleSection" -> {"0" -> Open}}, 
  "NewStyles" -> True, "CitationPopupData" -> {"2023", ""}, "ShowCitation" -> 
  False, "RootCaptions" -> "", "HeaderCoreAreaLink" -> {}, 
  "Metadata" -> {
   "built" -> "{2025, 10, 9, 14, 35, 9.402090}", 
    "history" -> {"13.3", "", "", ""}, "context" -> 
    "QuantumMob`QuantumPlaybook`", 
    "keywords" -> {
     "quantum machine learning", "variational quantum classifier"}, 
    "specialkeywords" -> {}, "tutorialcollectionlinks" -> {}, "index" -> True,
     "label" -> "Quantum Mob/ Quantum Playbook Tech Note", "language" -> "en",
     "paclet" -> "QuantumMob/QuantumPlaybook", "status" -> "None", "summary" -> 
    "This demonstration is a translation of the tutorial 'Variational \
classifier' in PennyLane by Maria Schuld. It demonstrates variational quantum \
classifiers; that is, quantum circuits that can be trained from labelled data \
to classify new data samples. In particular, we will see that the variational \
quantum classifier can reproduce the parity function \
f:{0,1}^n\\[RightArrow]{1,-1}, where f(x)=1 if there are even number of ones \
in x and -1 otherwise. This optimization example demonstrates how to encode \
binary inputs into the initial state of the variational circuit, which is \
simply a computational basis state. The qubits to be modeled are S[i,$] for \
i=1,\\[Ellipsis],n:", "synonyms" -> {}, "tabletags" -> {}, "title" -> 
    "Variational Quantum Classifier: Parity", "titlemodifier" -> "", 
    "metadescription" -> "", "windowtitle" -> 
    "Variational Quantum Classifier: Parity", "type" -> "Tech Note", "uri" -> 
    "QuantumMob/QuantumPlaybook/tutorial/VariationalQuantumClassifierParity"}},
FrontEndVersion->"14.3 for Mac OS X ARM (64-bit) (July 8, 2025)",
StyleDefinitions->Notebook[{
   Cell[
    StyleData[
    StyleDefinitions -> FrontEnd`FileName[{"Wolfram"}, "Reference.nb"]]], 
   Cell[
    StyleData["Input"], CellContext -> Notebook], 
   Cell[
    StyleData["Output"], CellContext -> Notebook], 
   Cell[
    StyleData["TutorialMoreAboutSection"], 
    CellGroupingRules -> {"SectionGrouping", 30}], 
   Cell[
    StyleData["RelatedTutorialsSection"], 
    CellGroupingRules -> {"SectionGrouping", 30}], 
   Cell[
    StyleData["TutorialRelatedLinksSection"], 
    CellGroupingRules -> {"SectionGrouping", 30}]}, Visible -> False, 
  FrontEndVersion -> "14.3 for Mac OS X ARM (64-bit) (July 8, 2025)", 
  StyleDefinitions -> "PrivateStylesheetFormatting.nb"],
ExpressionUUID->"e93672b7-fa58-4fad-b073-3bd5587ad278"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[606, 21, 7497, 182, 70, "AnchorBarGrid",ExpressionUUID->"94420a77-dd7a-4443-94a8-421e16ddabc7",
 CellID->1],
Cell[CellGroupData[{
Cell[8128, 207, 138, 1, 70, "TechNoteTitle",ExpressionUUID->"f6e5bd66-dacd-4f7f-9a7e-200a56d7e2be",
 CellID->519812075],
Cell[8269, 210, 3996, 92, 70, "TechNoteJumpBox",ExpressionUUID->"ca1f14b5-c6e8-44f3-a6ec-541d5330a2e0"],
Cell[12268, 304, 658, 14, 70, "TechNoteText",ExpressionUUID->"bc8046dd-5e4a-4d93-88b4-6edc30778a26",
 CellID->239396700],
Cell[12929, 320, 1190, 33, 70, "TechNoteText",ExpressionUUID->"6b926cf9-5b80-466b-8896-bff8d22957aa",
 CellID->1384746856],
Cell[14122, 355, 780, 19, 70, "DefinitionBox",ExpressionUUID->"1a238313-c726-44fc-a27b-79fed5451912",
 CellID->1292802137],
Cell[14905, 376, 160, 2, 70, "TechNoteCaption",ExpressionUUID->"88174421-2cd0-47f0-828a-9457efa6b428",
 CellID->2033459860],
Cell[15068, 380, 140, 1, 70, "TechNoteMathCaption",ExpressionUUID->"17cb5ede-8f01-4ca6-89fa-d3d77281281a",
 CellID->1305108662],
Cell[15211, 383, 177, 3, 70, "Input",ExpressionUUID->"2441e766-189c-4db0-aa5a-2dea5c958768",
 CellID->563311776],
Cell[CellGroupData[{
Cell[15413, 390, 108, 1, 70, "TechNoteSection",ExpressionUUID->"33b7376e-0576-4d97-8a2f-39f238b92eef",
 CellID->2070070916],
Cell[15524, 393, 527, 15, 70, "TechNoteText",ExpressionUUID->"c2999740-bb98-45d1-a1cb-480513b404fc",
 CellID->1080054462],
Cell[16054, 410, 181, 4, 70, "Input",ExpressionUUID->"5bf42346-f7ff-4e11-a5f8-25e73aae3497",
 CellID->551157850],
Cell[CellGroupData[{
Cell[16260, 418, 505, 14, 70, "Input",ExpressionUUID->"d36a78ee-e7c3-49c8-ac1c-fe0b1633e288",
 CellID->1447508049],
Cell[16768, 434, 788, 24, 70, "Output",ExpressionUUID->"344d76ef-9857-401e-82db-21df3187017b",
 CellID->651180132]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[17605, 464, 107, 1, 70, "TechNoteSection",ExpressionUUID->"e3d254e2-259c-4a67-b726-a3370a4ddcc6",
 CellID->1599589615],
Cell[17715, 467, 129, 1, 70, "TechNoteText",ExpressionUUID->"16ff7f48-2ebf-4401-93ce-b3902bfd4e89",
 CellID->1845640457],
Cell[CellGroupData[{
Cell[17869, 472, 845, 25, 70, "Input",ExpressionUUID->"e2d9274c-afd7-438b-8e2f-a31b55573b5b",
 CellID->2006481062],
Cell[18717, 499, 2741, 96, 70, "Output",ExpressionUUID->"9e1af1cb-b861-446a-b123-03a79dd0060d",
 CellID->807813412]
}, Open  ]],
Cell[21473, 598, 139, 1, 70, "TechNoteText",ExpressionUUID->"7e9a0ed2-2212-4f92-9318-68664b5911ad",
 CellID->1049292018],
Cell[CellGroupData[{
Cell[21637, 603, 477, 13, 70, "Input",ExpressionUUID->"056d567e-4fce-423f-941e-b383de0bf912",
 CellID->332895033],
Cell[22117, 618, 12976, 517, 70, "Output",ExpressionUUID->"67eadf18-9b32-4364-ad84-a51f5cfc74fc",
 CellID->268933087]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[35142, 1141, 124, 1, 70, "TechNoteSection",ExpressionUUID->"dbb6ce92-d18f-4dfc-a7a2-a7aceb2c8e64",
 CellID->1732304737],
Cell[35269, 1144, 770, 24, 70, "TechNoteText",ExpressionUUID->"c83b00c5-5bee-49c6-a6cf-91b0df1a7ce4",
 CellID->1481153565],
Cell[36042, 1170, 181, 4, 70, "Input",ExpressionUUID->"6fd4eee9-0316-439f-8f88-15c6a13bfda2",
 CellID->226058522],
Cell[36226, 1176, 130, 1, 70, "TechNoteText",ExpressionUUID->"26b6bf81-da0b-491d-ab41-db7bbf0b713f",
 CellID->935626912],
Cell[36359, 1179, 1769, 52, 70, "Input",ExpressionUUID->"b75628e5-514f-4f67-b591-100b14b247db",
 CellID->602466469],
Cell[38131, 1233, 821, 23, 70, "TechNoteText",ExpressionUUID->"d9b0cde6-20bc-4c8e-bbe7-64fbe0b86b16",
 CellID->1287530389],
Cell[CellGroupData[{
Cell[38977, 1260, 181, 4, 70, "Input",ExpressionUUID->"c3f316eb-f26b-46d2-bafa-d74b7cccafe1",
 CellID->791747932],
Cell[39161, 1266, 8428, 188, 70, "Output",ExpressionUUID->"dd8fd1db-006e-4b48-aba3-362701c6e97c",
 CellID->1939165684]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[47638, 1460, 115, 1, 70, "TechNoteSection",ExpressionUUID->"d3f899c5-d224-4f46-9157-5eb59d2aa28e",
 CellID->1787628089],
Cell[CellGroupData[{
Cell[47778, 1465, 118, 1, 70, "Subsection",ExpressionUUID->"ce94b03e-e636-4bbc-b1d3-ce819c43464c",
 CellID->1045681763],
Cell[47899, 1468, 168, 4, 70, "Input",ExpressionUUID->"2ad4717d-fa1d-473f-8e3a-992fb0e38034",
 CellID->1530851286],
Cell[48070, 1474, 159, 2, 70, "TechNoteText",ExpressionUUID->"086a9937-dd3b-42cc-ad66-6f5dc878a3e8",
 CellID->988267993],
Cell[CellGroupData[{
Cell[48254, 1480, 182, 4, 70, "Input",ExpressionUUID->"d90fde6e-5a8d-4735-947e-a7b609e6038d",
 CellID->787654452],
Cell[48439, 1486, 4454, 100, 70, "Output",ExpressionUUID->"2450ec36-e7f6-4702-a5fa-d50eda7cc1e9",
 CellID->1966936343]
}, Open  ]],
Cell[52908, 1589, 233, 6, 70, "Input",ExpressionUUID->"03be8a62-dd7c-4338-a1cd-b77d4c3f0e7f",
 CellID->359017298],
Cell[53144, 1597, 286, 8, 70, "Input",ExpressionUUID->"5f9416bb-8ce6-4d37-a1ed-554b1f5ea4d3",
 CellID->1806786521],
Cell[CellGroupData[{
Cell[53455, 1609, 384, 11, 70, "Input",ExpressionUUID->"dbc196e2-a4bd-4ca9-92b8-dd6eab7d0aec",
 CellID->1331466339],
Cell[53842, 1622, 507, 10, 70, "Output",ExpressionUUID->"cf77489e-fb7f-447a-a381-b211e9c70dd5",
 CellID->90163223]
}, Open  ]],
Cell[54364, 1635, 128, 1, 70, "TechNoteMathCaption",ExpressionUUID->"6d10c7d1-98ea-46f0-b0d8-c87a9aa17b2a",
 CellID->778390898],
Cell[54495, 1638, 357, 10, 70, "Input",ExpressionUUID->"45f73f88-3515-434a-bd40-3df839b396b4",
 CellID->1785137132],
Cell[54855, 1650, 182, 3, 70, "TechNoteMathCaption",ExpressionUUID->"3ecd0783-2b44-4826-95f5-74d21f2a2705",
 CellID->904180189],
Cell[55040, 1655, 249, 6, 70, "Input",ExpressionUUID->"80090bc9-1797-4543-9417-6c9420fa6fb5",
 CellID->1028409558],
Cell[55292, 1663, 2647, 70, 70, "Input",ExpressionUUID->"b5390ed2-f131-479d-9fdf-cc3773ddf2fb",
 CellID->450103983],
Cell[57942, 1735, 125, 1, 70, "TechNoteMathCaption",ExpressionUUID->"30054ad4-4705-4e38-a2b0-8aa0ecff2967",
 CellID->390365273],
Cell[CellGroupData[{
Cell[58092, 1740, 162, 3, 70, "Input",ExpressionUUID->"0e332dd4-1853-43ad-a280-36d822418d13",
 CellID->742028701],
Cell[CellGroupData[{
Cell[58279, 1747, 115, 1, 70, "EchoTiming",ExpressionUUID->"8b4fe554-f553-44fd-830a-9fbeeb6e51f1",
 CellID->968548518],
Cell[58397, 1750, 495, 13, 70, "Echo",ExpressionUUID->"2aeb1648-7c72-47ed-b846-cbe17e487d62",
 CellID->468897766]
}, Open  ]],
Cell[58907, 1766, 515, 10, 70, "Output",ExpressionUUID->"d0cd7ab3-a891-4b4d-a598-44a3fa91ae65",
 CellID->1647252319]
}, Open  ]],
Cell[59437, 1779, 154, 1, 70, "TechNoteText",ExpressionUUID->"47bb8623-0f64-4667-b9f9-a3b25ad5c67f",
 CellID->1706189206],
Cell[CellGroupData[{
Cell[59616, 1784, 414, 11, 70, "Input",ExpressionUUID->"826fba04-9f6c-4e73-9b26-b2791eb2c8c4",
 CellID->601893948],
Cell[CellGroupData[{
Cell[60055, 1799, 116, 1, 70, "EchoTiming",ExpressionUUID->"d477b0a5-151f-430c-b32c-bbb80bb5209b",
 CellID->1217561368],
Cell[60174, 1802, 536, 16, 70, "Echo",ExpressionUUID->"0ebd40fc-160b-4a66-9d17-de00d958720c",
 CellID->182239713],
Cell[60713, 1820, 115, 1, 70, "EchoTiming",ExpressionUUID->"1b76c5e8-1f58-4163-bc98-2a958b9d6d43",
 CellID->766916013],
Cell[60831, 1823, 534, 14, 70, "Echo",ExpressionUUID->"0c0ad2e3-2f5c-4324-bd87-c40331822c58",
 CellID->360581197],
Cell[61368, 1839, 114, 1, 70, "EchoTiming",ExpressionUUID->"7a69eb7e-9882-4eca-8281-9999787078b3",
 CellID->58035780],
Cell[61485, 1842, 497, 13, 70, "Echo",ExpressionUUID->"338bf6bb-13ac-42fe-b5ca-fdccd16b9cb3",
 CellID->449778722],
Cell[61985, 1857, 114, 1, 70, "EchoTiming",ExpressionUUID->"a6b3e656-12ab-4fcd-b008-1509015b1fab",
 CellID->31355626],
Cell[62102, 1860, 620, 18, 70, "Echo",ExpressionUUID->"bbe5511c-ac32-4052-af16-07041d595284",
 CellID->860512667],
Cell[62725, 1880, 115, 1, 70, "EchoTiming",ExpressionUUID->"b6069332-ef03-4c4c-8087-4e9e2b5922ac",
 CellID->1075544915],
Cell[62843, 1883, 547, 16, 70, "Echo",ExpressionUUID->"301156e2-fb97-4d5a-b812-efe6f405a5d7",
 CellID->1313529606]
}, Open  ]],
Cell[63405, 1902, 518, 10, 70, "Output",ExpressionUUID->"43a5750b-8005-4c7b-806a-f9c76f7f2916",
 CellID->360196882]
}, Open  ]],
Cell[63938, 1915, 148, 1, 70, "TechNoteText",ExpressionUUID->"290988d2-de60-44cf-a357-b137c1ce62ae",
 CellID->1452621094],
Cell[CellGroupData[{
Cell[64111, 1920, 718, 21, 70, "Input",ExpressionUUID->"c8b4b92d-2fed-4dcf-97ec-e364a5952239",
 CellID->1659547112],
Cell[64832, 1943, 464, 12, 70, "Output",ExpressionUUID->"9a712b82-c270-4e40-89a7-5c599c637dbf",
 CellID->597931784]
}, Open  ]],
Cell[CellGroupData[{
Cell[65333, 1960, 193, 4, 70, "Input",ExpressionUUID->"ab0af32b-01f1-4e85-b3b6-3523bf8a40ee",
 CellID->1832052457],
Cell[65529, 1966, 393, 9, 70, "Output",ExpressionUUID->"9471828d-0d97-4c49-9312-d805dcc6a9ae",
 CellID->1551792912]
}, Open  ]],
Cell[CellGroupData[{
Cell[65959, 1980, 108, 1, 70, "Subsubsection",ExpressionUUID->"b1135c66-e451-4464-9980-d5475c78939c",
 CellID->1629533764],
Cell[66070, 1983, 170, 3, 70, "Item",ExpressionUUID->"4c9d91c0-4ecd-422a-a5d3-8f709499be0b",
 CellID->859927202],
Cell[66243, 1988, 475, 12, 70, "Item",ExpressionUUID->"054f69a9-ac82-45a2-b41b-e59a29bef548",
 CellID->1326966863]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[66767, 2006, 147, 1, 70, "Subsection",ExpressionUUID->"041d066e-2268-4ea6-a149-847227008657",
 CellID->1489533743],
Cell[66917, 2009, 168, 4, 70, "Input",ExpressionUUID->"e35356f7-f08f-485a-8768-ac37255c84ff",
 CellID->1376745522],
Cell[67088, 2015, 160, 2, 70, "TechNoteText",ExpressionUUID->"338d8c9d-c5af-4fef-be9a-f3b1f6df03c7",
 CellID->1973175476],
Cell[CellGroupData[{
Cell[67273, 2021, 183, 4, 70, "Input",ExpressionUUID->"7d038183-4593-4805-aaa6-a077ef75763e",
 CellID->1717748158],
Cell[67459, 2027, 8428, 188, 70, "Output",ExpressionUUID->"ef951345-b023-4fee-85de-73832695bfef",
 CellID->1436908818]
}, Open  ]],
Cell[75902, 2218, 181, 3, 70, "TechNoteText",ExpressionUUID->"3d2d369d-232a-4517-b6d2-5e80b5f8ced1",
 CellID->420656279],
Cell[CellGroupData[{
Cell[76108, 2225, 292, 6, 70, "Input",ExpressionUUID->"4d4ddb49-186f-4676-b44e-a2a5f3240102",
 CellID->19230539],
Cell[76403, 2233, 3945, 124, 70, "Output",ExpressionUUID->"f46f0c40-c80d-4ac0-8f39-ffb5f3f8fa0d",
 CellID->1672893611],
Cell[80351, 2359, 129, 2, 70, "Output",ExpressionUUID->"19baa336-653e-4a56-b73d-3ce86457f1af",
 CellID->1467013553]
}, Open  ]],
Cell[CellGroupData[{
Cell[80517, 2366, 327, 8, 70, "Input",ExpressionUUID->"9253ab97-0938-44cc-9a28-444e17c12239",
 CellID->623453271],
Cell[80847, 2376, 174, 4, 70, "Output",ExpressionUUID->"379b3033-5ad3-4428-98a1-7485c7b4441d",
 CellID->837034064]
}, Open  ]],
Cell[CellGroupData[{
Cell[81058, 2385, 352, 9, 70, "Input",ExpressionUUID->"fc50bc7a-423f-48bf-a5b3-fc2835fac4cf",
 CellID->806411984],
Cell[81413, 2396, 175, 4, 70, "Output",ExpressionUUID->"1864d36e-c7b7-45c6-a745-8a4c87ffa4e6",
 CellID->2013625798]
}, Open  ]],
Cell[CellGroupData[{
Cell[81625, 2405, 446, 12, 70, "Input",ExpressionUUID->"d1621e85-41fc-49fc-b03d-98c3fb2cffda",
 CellID->596918871],
Cell[82074, 2419, 875, 16, 70, "Output",ExpressionUUID->"dded40de-c952-417b-b614-52ae4be90629",
 CellID->813993913],
Cell[82952, 2437, 129, 2, 70, "Output",ExpressionUUID->"174190ad-4bcd-494b-807d-d2eff11728cc",
 CellID->1324864401]
}, Open  ]],
Cell[83096, 2442, 122, 1, 70, "TechNoteText",ExpressionUUID->"4f016892-540d-451c-a8e4-8d513870b251",
 CellID->1764677153],
Cell[83221, 2445, 358, 10, 70, "Input",ExpressionUUID->"41a273c1-4738-4c45-9d89-d98efec17960",
 CellID->2130853490],
Cell[83582, 2457, 190, 4, 70, "TechNoteText",ExpressionUUID->"68eb795e-0061-43b3-84c3-8afc3a8b216a",
 CellID->384767242],
Cell[83775, 2463, 249, 6, 70, "Input",ExpressionUUID->"14079f41-53f6-4ada-a42b-629bca62724f",
 CellID->933528989],
Cell[84027, 2471, 3208, 85, 70, "Input",ExpressionUUID->"d0302366-ca64-48d8-877b-0896f0ac7caa",
 CellID->1817309058],
Cell[87238, 2558, 119, 1, 70, "TechNoteText",ExpressionUUID->"bab94e06-1633-41e8-9a76-d28535e61c24",
 CellID->2000910172],
Cell[CellGroupData[{
Cell[87382, 2563, 164, 3, 70, "Input",ExpressionUUID->"f0aee3fb-312b-41da-99b9-d169b6c4d67d",
 CellID->1850832431],
Cell[CellGroupData[{
Cell[87571, 2570, 229, 6, 70, "Echo",ExpressionUUID->"f5aa2336-8ac2-416a-8d06-6e0256789b6d",
 CellID->1885535511],
Cell[87803, 2578, 436, 12, 70, "Echo",ExpressionUUID->"d7290fcd-4fdd-41da-a3de-35dc7fe84080",
 CellID->1926638245],
Cell[88242, 2592, 115, 1, 70, "EchoTiming",ExpressionUUID->"60ed5fa0-376b-4870-ae09-9c180c58aded",
 CellID->303877320],
Cell[88360, 2595, 601, 17, 70, "Echo",ExpressionUUID->"a04503e0-f7c3-4867-99bb-0308b0dfe953",
 CellID->550004674]
}, Open  ]],
Cell[88976, 2615, 877, 16, 70, "Output",ExpressionUUID->"484d2e84-1212-411b-ae6f-1648d390851f",
 CellID->1158939230]
}, Open  ]],
Cell[89868, 2634, 154, 1, 70, "TechNoteText",ExpressionUUID->"26e26bae-69e3-4d1d-8da2-91c573560431",
 CellID->1878469324],
Cell[CellGroupData[{
Cell[90047, 2639, 415, 11, 70, "Input",ExpressionUUID->"11a5a2f1-f399-49d3-9e95-932693a8a417",
 CellID->379501823],
Cell[CellGroupData[{
Cell[90487, 2654, 227, 6, 70, "Echo",ExpressionUUID->"80605dbc-c7d6-43eb-a4c8-eb9ba377dfa1",
 CellID->614960320],
Cell[90717, 2662, 450, 12, 70, "Echo",ExpressionUUID->"51dcf03d-f80f-4a66-8051-40dcc3869c78",
 CellID->1727658230],
Cell[91170, 2676, 116, 1, 70, "EchoTiming",ExpressionUUID->"c09f6ed9-b4bf-4a8d-bc8f-22d32203b72d",
 CellID->1494829962],
Cell[91289, 2679, 564, 16, 70, "Echo",ExpressionUUID->"aba94a59-dfbb-4379-8556-4fcf98d1bd42",
 CellID->717896165],
Cell[91856, 2697, 231, 6, 70, "Echo",ExpressionUUID->"2e72c103-2497-4753-94ec-a3ab0add7596",
 CellID->1117716309],
Cell[92090, 2705, 452, 12, 70, "Echo",ExpressionUUID->"f6af755b-794c-4fdf-b0ab-7f1c9093cfd1",
 CellID->732606128],
Cell[92545, 2719, 116, 1, 70, "EchoTiming",ExpressionUUID->"e90b7f67-96f7-4c64-b3b5-001f5826c1ef",
 CellID->2080842932],
Cell[92664, 2722, 602, 17, 70, "Echo",ExpressionUUID->"c31d4f22-d910-4318-999d-1a3505caf40c",
 CellID->1607651096],
Cell[93269, 2741, 230, 6, 70, "Echo",ExpressionUUID->"69e12a09-77de-48d5-98f2-00b4770c060d",
 CellID->573974779],
Cell[93502, 2749, 427, 11, 70, "Echo",ExpressionUUID->"2a0c9433-9ce9-4662-a00c-72785eb7f83a",
 CellID->862689840],
Cell[93932, 2762, 116, 1, 70, "EchoTiming",ExpressionUUID->"e975f589-5840-459e-bfd1-1e7270600d78",
 CellID->1646917710],
Cell[94051, 2765, 602, 17, 70, "Echo",ExpressionUUID->"58da43b6-4976-40cd-85f3-4e314350eef4",
 CellID->829225787]
}, Open  ]],
Cell[94668, 2785, 875, 16, 70, "Output",ExpressionUUID->"39fc85d0-a64e-40de-89c4-e524414db1b2",
 CellID->1776416726]
}, Open  ]],
Cell[95558, 2804, 147, 1, 70, "TechNoteText",ExpressionUUID->"38a611e8-5e1b-4f4c-ba1b-bddf3d9095ca",
 CellID->205804175],
Cell[CellGroupData[{
Cell[95730, 2809, 719, 21, 70, "Input",ExpressionUUID->"4b13af19-ffb4-48d2-af60-f45eeab1f641",
 CellID->1502097555],
Cell[96452, 2832, 466, 12, 70, "Output",ExpressionUUID->"bdff6f71-f5b3-4866-8405-4129ae830eaf",
 CellID->1918253288]
}, Open  ]],
Cell[CellGroupData[{
Cell[96955, 2849, 194, 4, 70, "Input",ExpressionUUID->"2a8d30b7-c5e2-4796-aa66-68f9c541ac6e",
 CellID->2061494112],
Cell[97152, 2855, 325, 7, 70, "Output",ExpressionUUID->"619f9c35-a03b-4864-82b9-6d5dab27491b",
 CellID->2058502652]
}, Open  ]],
Cell[CellGroupData[{
Cell[97514, 2867, 107, 1, 70, "Subsubsection",ExpressionUUID->"74b48d18-ab25-4176-82f2-723327cac5ac",
 CellID->511955943],
Cell[97624, 2870, 163, 3, 70, "Item",ExpressionUUID->"006628ed-0978-4b7b-bb94-e0cb752dffbe",
 CellID->1759076356],
Cell[97790, 2875, 474, 12, 70, "Item",ExpressionUUID->"e7e97442-ff15-4a30-8456-2a82ef5db482",
 CellID->792143574],
Cell[98267, 2889, 250, 7, 70, "Item",ExpressionUUID->"c294a047-da13-487c-9b00-791789e3f727",
 CellID->635288345]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[98566, 2902, 139, 1, 70, "Subsection",ExpressionUUID->"c38edf0c-ac67-4eab-9eb6-4546c69f3874",
 CellID->1428432396],
Cell[98708, 2905, 167, 4, 70, "Input",ExpressionUUID->"1c44a4a8-0200-4840-aec8-90c69ec03df4",
 CellID->943589759],
Cell[98878, 2911, 160, 2, 70, "TechNoteText",ExpressionUUID->"91944d95-52b2-4bc3-a3aa-d6fb9cb9267f",
 CellID->1893830065],
Cell[CellGroupData[{
Cell[99063, 2917, 183, 4, 70, "Input",ExpressionUUID->"a1db1930-699b-4665-9dc1-50b9b1f57783",
 CellID->1746770268],
Cell[99249, 2923, 8428, 188, 70, "Output",ExpressionUUID->"8b864dca-5b7d-49cb-bda3-43425925258e",
 CellID->2134753138]
}, Open  ]],
Cell[107692, 3114, 181, 3, 70, "TechNoteText",ExpressionUUID->"1b06c594-9aa3-4105-8dba-5a4ba7fadca7",
 CellID->959851573],
Cell[CellGroupData[{
Cell[107898, 3121, 293, 6, 70, "Input",ExpressionUUID->"2c4072c2-8ccd-46bb-b90a-595c1144f04c",
 CellID->328231147],
Cell[108194, 3129, 3944, 124, 70, "Output",ExpressionUUID->"e8879798-1a5d-41c7-a061-d5612c883bc5",
 CellID->373470935],
Cell[112141, 3255, 129, 2, 70, "Output",ExpressionUUID->"1df47905-3d20-4ec2-a809-63d5b67db2af",
 CellID->1978788011]
}, Open  ]],
Cell[CellGroupData[{
Cell[112307, 3262, 328, 8, 70, "Input",ExpressionUUID->"5b611370-ef1f-4a7e-90f4-b40870eeec2e",
 CellID->1252799684],
Cell[112638, 3272, 175, 4, 70, "Output",ExpressionUUID->"da900fdc-4472-4614-b5de-d0df3d0e667a",
 CellID->1685513952]
}, Open  ]],
Cell[CellGroupData[{
Cell[112850, 3281, 352, 9, 70, "Input",ExpressionUUID->"3faf1988-4159-432f-aac8-1f96de56ca88",
 CellID->901551463],
Cell[113205, 3292, 174, 4, 70, "Output",ExpressionUUID->"f5208c5c-229a-46c9-b9e5-2fc60a2ae342",
 CellID->976203687]
}, Open  ]],
Cell[CellGroupData[{
Cell[113416, 3301, 446, 12, 70, "Input",ExpressionUUID->"123ddeb7-2b4f-4196-b7b6-c68c02148d70",
 CellID->730693292],
Cell[113865, 3315, 869, 16, 70, "Output",ExpressionUUID->"34c15fa6-7263-4393-abe0-46adabaf9fbf",
 CellID->1019118283],
Cell[114737, 3333, 129, 2, 70, "Output",ExpressionUUID->"d631512f-519b-4976-b1ae-3bcd44f21150",
 CellID->2138897556]
}, Open  ]],
Cell[114881, 3338, 122, 1, 70, "TechNoteText",ExpressionUUID->"d65ba950-c44a-4fa0-9d6e-e9c093223662",
 CellID->1695059541],
Cell[115006, 3341, 356, 10, 70, "Input",ExpressionUUID->"125c7472-f60a-49c8-b39f-3bee5fec9c49",
 CellID->347644485],
Cell[115365, 3353, 142, 1, 70, "TechNoteText",ExpressionUUID->"25b4c3d9-dff5-40e9-a918-ef2bf796f619",
 CellID->258268342],
Cell[115510, 3356, 248, 6, 70, "Input",ExpressionUUID->"345fa532-18eb-4f87-94e0-824b9a848d18",
 CellID->703106536],
Cell[115761, 3364, 3170, 84, 70, "Input",ExpressionUUID->"82012711-f63f-4760-ac2d-16afdd9d892a",
 CellID->1656524758],
Cell[118934, 3450, 119, 1, 70, "TechNoteText",ExpressionUUID->"78d60039-1ac7-45b9-8e56-89df323e8a2d",
 CellID->1233607998],
Cell[CellGroupData[{
Cell[119078, 3455, 163, 3, 70, "Input",ExpressionUUID->"cd702cff-0f72-4156-90de-787ec617b415",
 CellID->1442494248],
Cell[CellGroupData[{
Cell[119266, 3462, 229, 6, 70, "Echo",ExpressionUUID->"331c33a7-0de8-484a-a6ef-d7f45057def7",
 CellID->843178943],
Cell[119498, 3470, 430, 11, 70, "Echo",ExpressionUUID->"03dfc6ad-e932-4781-b4c4-50ebaa5c7a96",
 CellID->63908448],
Cell[119931, 3483, 115, 1, 70, "EchoTiming",ExpressionUUID->"97586c01-a6df-43e2-b5ea-c059604bc050",
 CellID->383659467],
Cell[120049, 3486, 521, 14, 70, "Echo",ExpressionUUID->"740f5db1-347d-4285-a460-61e0c965dd44",
 CellID->1418753575]
}, Open  ]],
Cell[120585, 3503, 872, 16, 70, "Output",ExpressionUUID->"fe0ae17d-d23c-4d74-ab1c-96f0752fb17a",
 CellID->1480402384]
}, Open  ]],
Cell[121472, 3522, 154, 1, 70, "TechNoteText",ExpressionUUID->"37c3c249-4b5c-4cd3-8680-4bc599bd7dd3",
 CellID->1771739654],
Cell[CellGroupData[{
Cell[121651, 3527, 414, 11, 70, "Input",ExpressionUUID->"a7d4b4ab-2a81-46bd-8d42-6ec7c3d6eb54",
 CellID->620115476],
Cell[CellGroupData[{
Cell[122090, 3542, 228, 6, 70, "Echo",ExpressionUUID->"14489676-95dc-45a8-be0d-4edfa312cb74",
 CellID->377333746],
Cell[122321, 3550, 437, 12, 70, "Echo",ExpressionUUID->"727abd43-d1c9-47c3-ac60-20ada09518ed",
 CellID->329059431],
Cell[122761, 3564, 116, 1, 70, "EchoTiming",ExpressionUUID->"0067819d-f411-4711-afbe-a87c15fe3cee",
 CellID->1662951679],
Cell[122880, 3567, 566, 16, 70, "Echo",ExpressionUUID->"bed56fbd-038f-4653-978a-202d3a8a08ab",
 CellID->1876686895],
Cell[123449, 3585, 229, 6, 70, "Echo",ExpressionUUID->"ebe55cc2-0a75-438a-b5ae-a9465d8d1efc",
 CellID->1384320776],
Cell[123681, 3593, 430, 11, 70, "Echo",ExpressionUUID->"c421994c-0e88-4654-a5ae-5a2652a453ce",
 CellID->441450634],
Cell[124114, 3606, 115, 1, 70, "EchoTiming",ExpressionUUID->"e25da553-966e-4d1f-ad01-f881d76a21f9",
 CellID->381672460],
Cell[124232, 3609, 564, 16, 70, "Echo",ExpressionUUID->"03e951d3-d0ff-41e0-97c3-b2b3c0d5befc",
 CellID->235381631],
Cell[124799, 3627, 229, 6, 70, "Echo",ExpressionUUID->"47695cc6-da8b-48da-ab09-b275377aff40",
 CellID->394194443],
Cell[125031, 3635, 430, 11, 70, "Echo",ExpressionUUID->"5d8c1e83-fa0f-47f8-a1ed-e1969256a3ba",
 CellID->238952506],
Cell[125464, 3648, 116, 1, 70, "EchoTiming",ExpressionUUID->"a60d61f7-102a-42fe-b8e0-d2147e1862f0",
 CellID->1344585882],
Cell[125583, 3651, 558, 15, 70, "Echo",ExpressionUUID->"864f02f3-31c9-4bdf-88e5-c4652b061b74",
 CellID->484501393]
}, Open  ]],
Cell[126156, 3669, 881, 16, 70, "Output",ExpressionUUID->"bbe2f2ca-ad48-4741-8976-7dec38df84fb",
 CellID->1904406374]
}, Open  ]],
Cell[127052, 3688, 147, 1, 70, "TechNoteText",ExpressionUUID->"671c35e1-deba-4718-bdc6-9e58ed8894da",
 CellID->565591423],
Cell[CellGroupData[{
Cell[127224, 3693, 718, 21, 70, "Input",ExpressionUUID->"f2bbb9ec-8930-41ec-8038-23b7449ba81e",
 CellID->1132424739],
Cell[127945, 3716, 465, 12, 70, "Output",ExpressionUUID->"5d46c680-5392-4525-b969-2da82e915b0f",
 CellID->1261652930]
}, Open  ]],
Cell[CellGroupData[{
Cell[128447, 3733, 192, 4, 70, "Input",ExpressionUUID->"81b47b0c-3537-421e-9739-eea930973330",
 CellID->873300696],
Cell[128642, 3739, 323, 7, 70, "Output",ExpressionUUID->"74ce40da-7b04-4b0f-8e84-a2c6dd3846e4",
 CellID->347264032]
}, Open  ]],
Cell[CellGroupData[{
Cell[129002, 3751, 107, 1, 70, "Subsubsection",ExpressionUUID->"60fd2722-4d33-4a00-97a4-bc1681057b40",
 CellID->351030337],
Cell[129112, 3754, 161, 3, 70, "Item",ExpressionUUID->"3042432e-240a-44e7-8f1d-17def8f0a192",
 CellID->32805757],
Cell[129276, 3759, 475, 12, 70, "Item",ExpressionUUID->"3a3054ca-a749-42b9-9162-787a91c85d25",
 CellID->1610544267],
Cell[129754, 3773, 251, 7, 70, "Item",ExpressionUUID->"01063228-6222-40a2-8f1c-5f33b1035249",
 CellID->1533608681]
}, Open  ]]
}, Open  ]]
}, Open  ]],
Cell[130044, 3785, 1382, 34, 70, "TutorialMoreAboutSection",ExpressionUUID->"dacaad8c-4d66-442f-ab67-9f74a03cdb02"],
Cell[131429, 3821, 1790, 46, 70, "RelatedTutorialsSection",ExpressionUUID->"0ac8249a-194a-4c48-bd73-b99544af0fcf"],
Cell[133222, 3869, 1765, 48, 70, "TutorialRelatedLinksSection",ExpressionUUID->"d8c7c74f-cda0-4797-bb4b-9fa840c56881"]
}, Open  ]],
Cell[135002, 3920, 78, 0, 70, "FooterCell",ExpressionUUID->"5cf66b86-7a55-4c90-ac81-270450ddc1dd"]
}
]
*)

(* End of internal cache information *)
